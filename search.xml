<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>iOSå¤šçº¿ç¨‹çŸ¥è¯†æ¢³ç†</title>
    <url>/2019/10/18/iOS%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<h2 id="è¿›ç¨‹ã€çº¿ç¨‹ä¸é˜Ÿåˆ—"><a href="#è¿›ç¨‹ã€çº¿ç¨‹ä¸é˜Ÿåˆ—" class="headerlink" title="è¿›ç¨‹ã€çº¿ç¨‹ä¸é˜Ÿåˆ—"></a>è¿›ç¨‹ã€çº¿ç¨‹ä¸é˜Ÿåˆ—</h2><h3 id="è¿›ç¨‹ä¸çº¿ç¨‹"><a href="#è¿›ç¨‹ä¸çº¿ç¨‹" class="headerlink" title="è¿›ç¨‹ä¸çº¿ç¨‹"></a>è¿›ç¨‹ä¸çº¿ç¨‹</h3><ul>
<li>è¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¿›ç¨‹å‡è¿è¡Œåœ¨ä¸“ç”¨ä¸”å—ä¿æŠ¤çš„å†…å­˜ç©ºé—´å†…</li>
<li>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„åŸºæœ¬æ‰§è¡Œå•å…ƒï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä»»åŠ¡éƒ½åœ¨çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹ç”±è‡³å°‘ä¸€ä¸ªçº¿ç¨‹ç»„æˆ</li>
</ul>
<h3 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h3><p>ä¸€ä¸ªçº¿ç¨‹ä¸­çš„ä»»åŠ¡æ˜¯ä¸²è¡Œçš„ï¼ŒåŒä¸€æ—¶é—´å†…ï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚</p>
<p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å¼€å¯å¤šæ¡çº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¯ä»¥å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚åŒä¸€æ—¶é—´ï¼ŒCPUåªèƒ½å¤„ç†ä¸€æ¡çº¿ç¨‹ï¼Œå¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œæ˜¯CPUå¿«é€Ÿåœ°åœ¨å¤šæ¡çº¿ç¨‹ä¹‹é—´è°ƒåº¦</p>
<p>iOSçš„å¤šçº¿ç¨‹æŠ€æœ¯æœ‰ï¼š<code>pthread</code>ã€<code>NSThread</code>ã€<code>GCD</code>ã€<code>NSOperation</code></p>
<h3 id="ä¸»çº¿ç¨‹"><a href="#ä¸»çº¿ç¨‹" class="headerlink" title="ä¸»çº¿ç¨‹"></a>ä¸»çº¿ç¨‹</h3><p>ä¸»çº¿ç¨‹ä¸»è¦è´Ÿè´£æ˜¾ç¤ºå’Œåˆ·æ–°UIç•Œé¢ï¼Œå¤„ç†UIäº‹ä»¶</p>
<h3 id="é˜Ÿåˆ—çš„ç±»å‹"><a href="#é˜Ÿåˆ—çš„ç±»å‹" class="headerlink" title="é˜Ÿåˆ—çš„ç±»å‹"></a>é˜Ÿåˆ—çš„ç±»å‹</h3><ul>
<li>ä¸»é˜Ÿåˆ—ï¼š<code>dispatch_get_main_queue</code></li>
<li>å…¨å±€å¹¶å‘é˜Ÿåˆ—ï¼š<code>dispatch_get_global_queue</code></li>
<li>è‡ªå·±åˆ›å»ºé˜Ÿåˆ—ï¼š<code>dispatch_queue_create</code></li>
</ul>
<h2 id="çº¿ç¨‹é€šä¿¡"><a href="#çº¿ç¨‹é€šä¿¡" class="headerlink" title="çº¿ç¨‹é€šä¿¡"></a>çº¿ç¨‹é€šä¿¡</h2><p>GCD:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;&#x2F; åœ¨è¿™é‡Œæ‰§è¡Œè€—æ—¶æ“ä½œ</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">         &#x2F;&#x2F; å›åˆ°ä¸»çº¿ç¨‹ï¼Œæ‰§è¡ŒUIåˆ·æ–°æ“ä½œ</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>



<p>NSOperationQueue:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[[NSOperationQueue new] addOperationWithBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;å­çº¿ç¨‹ä¸‹è½½: %@&quot;, NSOperationQueue.currentQueue);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    [[NSOperationQueue mainQueue] addOperationWithBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        NSLog(@&quot;ä¸»çº¿ç¨‹åˆ·æ–°UI: %@&quot;, NSOperationQueue.currentQueue);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;];</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;];</span></pre></td></tr></table></figure>



<h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><p>æ­»é”å°±æ˜¯é˜Ÿåˆ—å¼•èµ·çš„å¾ªç¯ç­‰å¾…ï¼šåœ¨ä¸²è¡Œé˜Ÿåˆ—Aä¸­å‘é˜Ÿåˆ—Aæ·»åŠ ä¸€ä¸ªåŒæ­¥ä»»åŠ¡ï¼Œä¾‹å¦‚ä¸»é˜Ÿåˆ—åŒæ­¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    [super viewDidLoad];</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_sync(dispatch_get_main_queue(), ^&#123; &#x2F;&#x2F; ğŸ‘ˆæ­»é”åœ¨è¿™ä¸€è¡Œ</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#x2F;&#x2F; NSLog(@&quot;åœ¨ä¸»é˜Ÿåˆ—åŒæ­¥æ‰§è¡Œ&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>æˆ–è€…åœ¨è‡ªå®šä¹‰çº¿ç¨‹ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; NOT OK</span></pre></td></tr><tr><td class="code"><pre><span class="line">- (void)test1 &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;åœ¨ä¸»çº¿ç¨‹æ·»åŠ ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—queue&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_queue_t queue &#x3D; dispatch_queue_create(&quot;test&quot;, DISPATCH_QUEUE_SERIAL);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_async(queue, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        NSLog(@&quot;åœ¨ä¸²è¡Œé˜Ÿåˆ—queueä¸­æ·»åŠ ä¸€ä¸ªåŒæ­¥ä»»åŠ¡&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        dispatch_sync(queue, ^&#123; &#x2F;&#x2F; ğŸ‘ˆæ­»é”åœ¨è¿™ä¸€è¡Œ</span></pre></td></tr><tr><td class="code"><pre><span class="line">            NSLog(@&quot;OK&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™æ ·å°±ä¸ä¼šæ­»é”äº†</span></pre></td></tr><tr><td class="code"><pre><span class="line">- (void)test2 &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;åœ¨ä¸»çº¿ç¨‹æ·»åŠ ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—queue&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_queue_t queue &#x3D; dispatch_queue_create(&quot;test&quot;, DISPATCH_QUEUE_SERIAL);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_queue_t queue2 &#x3D; dispatch_queue_create(&quot;test&quot;, DISPATCH_QUEUE_SERIAL);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_async(queue, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        NSLog(@&quot;åœ¨ä¸²è¡Œé˜Ÿåˆ—queue2ä¸­æ·»åŠ ä¸€ä¸ªåŒæ­¥ä»»åŠ¡&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        dispatch_sync(queue2, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            NSLog(@&quot;OK&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="çº¿ç¨‹ç®¡ç†"><a href="#çº¿ç¨‹ç®¡ç†" class="headerlink" title="çº¿ç¨‹ç®¡ç†"></a>çº¿ç¨‹ç®¡ç†</h2><h3 id="è®¾ç½®æœ€å¤§å¹¶å‘æ•°"><a href="#è®¾ç½®æœ€å¤§å¹¶å‘æ•°" class="headerlink" title="è®¾ç½®æœ€å¤§å¹¶å‘æ•°"></a>è®¾ç½®æœ€å¤§å¹¶å‘æ•°</h3><p>NSOperationQueueï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)setMaxConcurrentOperationCount:(NSInteger)cnt;</span></pre></td></tr></table></figure>

<h3 id="è®¾ç½®ä¾èµ–"><a href="#è®¾ç½®ä¾èµ–" class="headerlink" title="è®¾ç½®ä¾èµ–"></a>è®¾ç½®ä¾èµ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSOperationQueue *queue &#x3D; [[NSOperationQueue alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">NSOperation *op1 &#x3D; [NSBlockOperation blockOperationWithBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    sleep(1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;ä¸‹è½½å›¾ç‰‡1&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;];</span></pre></td></tr><tr><td class="code"><pre><span class="line">NSOperation *op2 &#x3D; [NSBlockOperation blockOperationWithBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    sleep(1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;ä¸‹è½½å›¾ç‰‡2&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;];</span></pre></td></tr><tr><td class="code"><pre><span class="line">NSOperation *combine &#x3D; [NSBlockOperation blockOperationWithBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;åˆæˆå›¾ç‰‡&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;];</span></pre></td></tr><tr><td class="code"><pre><span class="line">[combine addDependency:op1];</span></pre></td></tr><tr><td class="code"><pre><span class="line">[combine addDependency:op2];</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">[queue addOperation:op1];</span></pre></td></tr><tr><td class="code"><pre><span class="line">[queue addOperation:op2];</span></pre></td></tr><tr><td class="code"><pre><span class="line">[queue addOperation:combine];</span></pre></td></tr></table></figure>

<h3 id="è®¾ç½®æ …æ "><a href="#è®¾ç½®æ …æ " class="headerlink" title="è®¾ç½®æ …æ "></a>è®¾ç½®æ …æ </h3><p>è‹¥å¹²ä¸ªç½‘ç»œè¯·æ±‚ç»“æŸåæ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dispatch_queue_t queue &#x3D; dispatch_queue_create(&quot;test&quot;, DISPATCH_QUEUE_CONCURRENT);</span></pre></td></tr><tr><td class="code"><pre><span class="line">dispatch_group_t group &#x3D; dispatch_group_create();</span></pre></td></tr><tr><td class="code"><pre><span class="line">for (int i &#x3D; 0; i &lt; 10; i++) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_group_async(group, queue, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        sleep(1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        NSLog(@&quot;ç½‘ç»œè¯·æ±‚   ---- %d&quot;,i);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">dispatch_barrier_sync(queue, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;ä¸»çº¿ç¨‹åˆ·æ–°UI&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<p>é€šè¿‡NSOperationQueueå®ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSOperationQueue *queue &#x3D; [[NSOperationQueue alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">for (int i &#x3D; 0; i &lt; 10; i++) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSOperation *op &#x3D; [NSBlockOperation blockOperationWithBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        sleep(1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        NSLog(@&quot;ç½‘ç»œè¯·æ±‚   ---- %d&quot;,i);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;];</span></pre></td></tr><tr><td class="code"><pre><span class="line">    [queue addOperation:op];</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">[queue addBarrierBlock:^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;åˆ·æ–°é¡µé¢&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;];</span></pre></td></tr></table></figure>



<h3 id="çº¿ç¨‹ç»„"><a href="#çº¿ç¨‹ç»„" class="headerlink" title="çº¿ç¨‹ç»„"></a>çº¿ç¨‹ç»„</h3><p>åœ¨nä¸ªè€—æ—¶å¹¶å‘ä»»åŠ¡éƒ½å®Œæˆåï¼Œå†å»æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»»åŠ¡ã€‚æ¯”å¦‚ï¼Œåœ¨nä¸ªç½‘ç»œè¯·æ±‚å®Œæˆåå»åˆ·æ–°UIé¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dispatch_queue_t queue &#x3D; dispatch_queue_create(&quot;queue&quot;, DISPATCH_QUEUE_CONCURRENT);</span></pre></td></tr><tr><td class="code"><pre><span class="line">dispatch_group_t group &#x3D; dispatch_group_create();</span></pre></td></tr><tr><td class="code"><pre><span class="line">for (int i &#x3D; 0; i &lt; 10; i++) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_group_async(group, queue, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        NSLog(@&quot;ç½‘ç»œè¯·æ±‚   ---- %d&quot;,i);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;åˆ·æ–°é¡µé¢&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<h2 id="GCDå’ŒNSOperationæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#GCDå’ŒNSOperationæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="GCDå’ŒNSOperationæœ‰ä»€ä¹ˆåŒºåˆ«"></a>GCDå’ŒNSOperationæœ‰ä»€ä¹ˆåŒºåˆ«</h2><ul>
<li>GCDæ˜¯çº¯Cè¯­è¨€çš„APIï¼›NSOperationæ˜¯åŸºäºGCDçš„OCç‰ˆæœ¬å°è£…</li>
<li>GCDåªæ”¯æŒFIFOçš„é˜Ÿåˆ—ï¼›NSOperationå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è°ƒæ•´æ‰§è¡Œé¡ºåºï¼Œè®¾ç½®æœ€å¤§å¹¶å‘æ•°é‡</li>
<li>NSOperationQueueå¯ä»¥è½»æ¾åœ¨operationé—´è®¾ç½®ä¾èµ–å…³ç³»ï¼Œè€ŒGCDéœ€è¦äº›å¾ˆå¤šä»£ç æ‰èƒ½å®ç°</li>
<li>NSOperationQueueæ”¯æŒKVOï¼Œå¯ä»¥æ£€æµ‹operationæ˜¯å¦æ­£åœ¨æ‰§è¡Œ(isExecuted)ï¼Œæ˜¯å¦ç»“æŸ(isFinish),æ˜¯å¦å–æ¶ˆ(isCancel)</li>
<li>GCDçš„æ‰§è¡Œé€Ÿåº¦æ¯”NSOperationå¿«</li>
</ul>
]]></content>
      <tags>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>SwiftUIå®è·µDemo</title>
    <url>/2019/10/17/SwiftUI%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%8F%8A%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<h1 id="SwiftUIå…¥é—¨å­¦ä¹ å®è·µ"><a href="#SwiftUIå…¥é—¨å­¦ä¹ å®è·µ" class="headerlink" title="SwiftUIå…¥é—¨å­¦ä¹ å®è·µ"></a>SwiftUIå…¥é—¨å­¦ä¹ å®è·µ</h1><p><a href="https://developer.apple.com/documentation/swiftui/" target="_blank" rel="noopener">Apple Developer SwiftUI</a></p>
<p><img src="https://i.loli.net/2019/11/27/iM8IsLBGhWgzvTX.png" alt="SwiftUIé€šç”¨å¼€å‘"></p>
<h3 id="ä¸€ã€SwiftUIæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€SwiftUIæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€SwiftUIæ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€SwiftUIæ˜¯ä»€ä¹ˆï¼Ÿ</h3><h5 id="1-å®šä¹‰ï¼š"><a href="#1-å®šä¹‰ï¼š" class="headerlink" title="1. å®šä¹‰ï¼š"></a>1. å®šä¹‰ï¼š</h5><p><code>SwiftUI</code>æ˜¯è‹¹æœåœ¨ <strong>â€œWWDC-2019â€</strong> æ¨å‡ºçš„ä¸€æ¬¾å…¨æ–°çš„ <strong>â€œå£°æ˜å¼UIâ€</strong> æ¡†æ¶ã€‚ æ‹†å¼€çœ‹ï¼Œ<code>Swift</code> + <code>UI</code>ï¼Œå³åŸºäºSwiftè¯­è¨€åŸºç¡€è¯­æ³•çš„UIæ¡†æ¶</p>
<h5 id="2-ç‰¹ç‚¹ï¼š"><a href="#2-ç‰¹ç‚¹ï¼š" class="headerlink" title="2. ç‰¹ç‚¹ï¼š"></a>2. ç‰¹ç‚¹ï¼š</h5><ul>
<li><strong>â€œç®€æ´è¿…é€Ÿâ€çš„Swift</strong>ï¼šè¶Šæ¥è¶Šç®€æ´çš„<code>Swift</code>è¯­æ³•ï¼Œé…ä¸Š<code>Swift</code>è¿…é€Ÿçš„ä¼˜åŠ¿</li>
<li><strong>â€œå³è§†â€çš„UI</strong>ï¼šé™ä½è°ƒè¯•æˆæœ¬ï¼Œä¸€è¾¹å†™<code>code</code>ã€ä¸€è¾¹å°±å¯å®æ—¶é¢„è§ˆæŸ¥çœ‹<code>UI</code>ç•Œé¢</li>
<li><strong>è·¨å¹³å°</strong>ï¼šä¸€å¥—ä»£ç ï¼Œå³å¯å®Œæˆ<code>iOS</code>ã€<code>iPadOS</code>ã€<code>macOS</code>ã€<code>watchOS</code>çš„å¼€å‘ä¸é€‚é…</li>
</ul>
<p><img src="https://i.loli.net/2019/11/24/I8Aq2jNUtpgQ5Ke.png" alt="è·¨å¹³å°"></p>
<ul>
<li><strong>â€œå£°æ˜å¼â€ç¼–ç¨‹</strong>ï¼š</li>
</ul>
<p>å¯¹æ¯”ä¹‹å‰çš„ <strong>â€œæŒ‡ä»¤å¼â€ç¼–ç¨‹</strong>ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å‘Šè¯‰è®¡ç®—æœº<strong>â€œæ€ä¹ˆåšâ€</strong>ï¼Ÿ è€Œ<strong>â€œå£°æ˜å¼â€ç¼–ç¨‹</strong>æ˜¯è®©æˆ‘ä»¬å‘Šè¯‰è®¡ç®—æœº <strong>â€œåšä»€ä¹ˆâ€</strong>ï¼Ÿï¼ˆè‡³äºæœ€åº•å±‚æ€ä¹ˆåšï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒï¼‰</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºå†™UIè€Œè¨€ï¼Œ</p>
<ul>
<li>æŒ‡ä»¤å¼ç¼–ç¨‹ï¼šå°±æ˜¯ï¼Œ<strong>æ€ä¹ˆç”»ï¼Ÿ</strong> æŠŠæ¯ä¸ª<code>frame</code>ã€<code>layout</code>ç­‰ç­‰ç»Ÿç»Ÿéœ€è¦è®¡ç®—åˆ°ä½</li>
<li>å£°æ˜å¼ç¼–ç¨‹ï¼šå°±æ˜¯ï¼Œ<strong>ç”»ä»€ä¹ˆï¼Ÿ</strong> æŠŠæƒ³è¦çš„æ•ˆæœæè¿°å‡ºæ¥ï¼Œå…¶ä»–éƒ½äº¤ç»™æ¡†æ¶å»åš</li>
</ul>
<h5 id="3-å¼€å‘ç¯å¢ƒï¼š"><a href="#3-å¼€å‘ç¯å¢ƒï¼š" class="headerlink" title="3. å¼€å‘ç¯å¢ƒï¼š"></a>3. å¼€å‘ç¯å¢ƒï¼š</h5><p>è¿™ä¹ˆæ–°çš„æŠ€æœ¯è‚¯å®šéœ€è¦ç¯å¢ƒçš„æ”¯æŒã€‚<code>SwiftUI</code>æ‰€éœ€è¦çš„å¼€å‘ç¯å¢ƒï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>Xcodeï¼š<code>Xcode 11.1+</code></li>
<li>MacOSï¼š<code>MacOS 10.15+</code></li>
<li>iOSï¼š<code>iOS 13+</code></li>
</ul>
<blockquote>
<p><em>PSï¼šç”±äº<code>SwiftUI</code>åªèƒ½åº”ç”¨ä¸<code>iOS 13</code>ç³»ç»Ÿä»¥ä¸Šçš„è®¾å¤‡ã€‚ å› æ­¤ï¼Œè¿™é¡¹æŠ€æœ¯ä¸å»ºè®®ç”¨åœ¨éœ€è¦é€‚é…ä½ç‰ˆæœ¬ï¼ˆ<code>iOS 13</code> ä»¥ä¸‹ï¼‰çš„Appä¸Šã€‚ ä¸è¿‡å¦‚æœæ˜¯æ— éœ€é€‚é…ä½ç‰ˆæœ¬çš„æ–°é¡¹ç›®ï¼Œæˆ–è€…å­¦ä¹ è€…å…¨å¯ä»¥ä¸Šæ‰‹â€œç©ä¸€ç©â€ã€‚ æ¯•ç«Ÿè‹¹æœçš„æ–°æŠ€æœ¯è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„å˜›~</em></p>
</blockquote>
<h3 id="äºŒã€SwiftUIçš„åŸºæœ¬ç»„ä»¶ï¼ˆè¯­æ³•ï¼‰"><a href="#äºŒã€SwiftUIçš„åŸºæœ¬ç»„ä»¶ï¼ˆè¯­æ³•ï¼‰" class="headerlink" title="äºŒã€SwiftUIçš„åŸºæœ¬ç»„ä»¶ï¼ˆè¯­æ³•ï¼‰"></a>äºŒã€SwiftUIçš„åŸºæœ¬ç»„ä»¶ï¼ˆè¯­æ³•ï¼‰</h3><blockquote>
<p>è¿™å—çŸ¥è¯†æ¯”è¾ƒâ€œåŸºç¡€â€ä¸”â€œé‡è¦â€ã€‚åªæœ‰è®°ä½äº†è¿™äº›åŸºæœ¬ç»„ä»¶ï¼Œæ‰èƒ½ç”¨è¾ƒå°‘çš„ä»£ç å¼€å‘å‡ºç²¾ç¾çš„App</p>
</blockquote>
<p>ä¸‹é¢æ˜¯ä¸€äº›é‡è¦çš„<code>SwiftUI</code>ç»„ä»¶ï¼š</p>
<p><strong>ç»„ä»¶ä»‹ç»</strong></p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>Text</td>
<td>ç”¨æ¥æ˜¾ç¤ºæ–‡æœ¬çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UILabel</code></td>
</tr>
<tr>
<td>Image</td>
<td>ç”¨æ¥å±•ç¤ºå›¾ç‰‡çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UIImageView</code></td>
</tr>
<tr>
<td>Button</td>
<td>ç”¨äºå¯ç‚¹å‡»çš„æŒ‰é’®ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UIButton</code></td>
</tr>
<tr>
<td>List</td>
<td>ç”¨æ¥å±•ç¤ºåˆ—è¡¨çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UITableView</code></td>
</tr>
<tr>
<td>ScrollView</td>
<td>ç”¨æ¥æ”¯æŒæ»‘åŠ¨çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UIScrollView</code></td>
</tr>
<tr>
<td>Spacer</td>
<td>ä¸€ä¸ªçµæ´»çš„ç©ºé—´ï¼Œç”¨æ¥å¡«å……ç©ºç™½çš„ç»„ä»¶</td>
</tr>
<tr>
<td>Divider</td>
<td>ä¸€æ¡åˆ†å‰²çº¿ï¼Œç”¨æ¥åˆ’åˆ†åŒºåŸŸçš„ç»„ä»¶</td>
</tr>
<tr>
<td>VStack</td>
<td>å°†å­è§†å›¾æŒ‰<strong>â€œç«–ç›´æ–¹å‘â€</strong>æ’åˆ—å¸ƒå±€ã€‚ï¼ˆ<code>Vertical stack</code>ï¼‰</td>
</tr>
<tr>
<td>HStack</td>
<td>å°†å­è§†å›¾æŒ‰<strong>â€œæ°´å¹³æ–¹å‘â€</strong>æ’åˆ—å¸ƒå±€ã€‚ï¼ˆ<code>Horizontal stack</code>ï¼‰</td>
</tr>
<tr>
<td>ZStack</td>
<td>å°†å­è§†å›¾æŒ‰<strong>â€œä¸¤è½´æ–¹å‘å‡å¯¹é½â€</strong>å¸ƒå±€ï¼ˆå±…ä¸­ï¼Œæœ‰é‡å æ•ˆæœï¼‰</td>
</tr>
</tbody></table>
<p><strong>åŸºæœ¬ç»„ä»¶</strong></p>
<ul>
<li>Textï¼šç”¨æ¥æ˜¾ç¤ºæ–‡æœ¬çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UILabel</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">"Hello, we are QiShare!"</span>).foregroundColor(.blue).font(.system(size: <span class="number">32.0</span>))</span></pre></td></tr></table></figure>

<ul>
<li>Imageï¼šç”¨æ¥å±•ç¤ºå›¾ç‰‡çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UIImageView</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span>.<span class="keyword">init</span>(systemName: <span class="string">"star.fill"</span>).foregroundColor(.yellow)</span></pre></td></tr></table></figure>

<ul>
<li>Buttonï¼šç”¨äºå¯ç‚¹å‡»çš„æŒ‰é’®ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UIButton</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(action: &#123; <span class="keyword">self</span>.showingProfile.toggle() &#125;) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="type">Image</span>(systemName: <span class="string">"paperplane.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .imageScale(.large)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .accessibility(label: <span class="type">Text</span>(<span class="string">"Right"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .padding()</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>Listï¼šç”¨æ¥å±•ç¤ºåˆ—è¡¨çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UITableView</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span>(<span class="number">0</span>..&lt;<span class="number">5</span>)&#123;<span class="number">_</span> <span class="keyword">in</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">NavigationLink</span>.<span class="keyword">init</span>(destination: <span class="type">VStack</span>(alignment:.center)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>.<span class="keyword">init</span>(systemName: <span class="string">"\(item+1).square.fill"</span>).foregroundColor(.green)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"è¯¦æƒ…ç•Œé¢\(item + 1)"</span>).font(.system(size: <span class="number">16</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="comment">//ListRow</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;</span></pre></td></tr></table></figure>

<ul>
<li>ScrollViewï¼šç”¨æ¥æ”¯æŒæ»‘åŠ¨çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UIScrollView</code></li>
<li>Spacerï¼šä¸€ä¸ªçµæ´»çš„ç©ºé—´ï¼Œç”¨æ¥å¡«å……ç©ºç™½çš„ç»„ä»¶</li>
<li>Dividerï¼šä¸€æ¡åˆ†å‰²çº¿ï¼Œç”¨æ¥åˆ’åˆ†åŒºåŸŸçš„ç»„ä»¶</li>
</ul>
<p><strong>å¸ƒå±€ç»„ä»¶</strong></p>
<ul>
<li>VStackï¼šå°†å­è§†å›¾æŒ‰<strong>â€œYè½´ç«–ç›´æ–¹å‘â€</strong>å¸ƒå±€ï¼ˆVertical stackï¼‰</li>
<li>HStackï¼šå°†å­è§†å›¾æŒ‰<strong>â€œXè½´æ°´å¹³æ–¹å‘â€</strong>å¸ƒå±€ï¼ˆHorizontal stackï¼‰</li>
<li>ZStackï¼šå°†å­è§†å›¾æŒ‰<strong>â€œXYä¸¤è½´æ–¹å‘å‡å¯¹é½â€</strong>å¸ƒå±€</li>
</ul>
<p><strong>åŠŸèƒ½ç»„ä»¶</strong></p>
<ul>
<li>NavigationViewï¼šè´Ÿè´£Appä¸­å¯¼èˆªåŠŸèƒ½çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UINavigationView</code></li>
<li>NavigationLinkï¼šè´Ÿè´£Appé¡µé¢è·³è½¬çš„ç»„ä»¶ï¼Œç±»ä¼¼äº<code>UINavigationView</code>ä¸­çš„<code>push</code>ä¸<code>pop</code>åŠŸèƒ½</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="type">List</span>(<span class="number">0</span>..&lt;<span class="number">5</span>)&#123;<span class="number">_</span> <span class="keyword">in</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">NavigationLink</span>.<span class="keyword">init</span>(destination: <span class="type">VStack</span>(alignment:.center)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>.<span class="keyword">init</span>(systemName: <span class="string">"\(item+1).square.fill"</span>).foregroundColor(.green)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"è¯¦æƒ…ç•Œé¢\(item + 1)"</span>).font(.system(size: <span class="number">16</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="comment">//ListRow</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">.navigationBarTitle(<span class="string">"å¯¼èˆª\(item)"</span>,displayMode: .inline)</span></pre></td></tr></table></figure>

<ul>
<li>TabViewï¼šè´Ÿè´£Appä¸­çš„æ ‡ç­¾é¡µåŠŸèƒ½çš„ç»„ä»¶ï¼Œç±»ä¼¼UIKitä¸­çš„<code>UITabBarController</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="type">Text</span>(<span class="string">"The First Tab"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .tabItem &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"1.square.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"First"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="type">Text</span>(<span class="string">"Another Tab"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .tabItem &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"2.square.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"Second"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="type">Text</span>(<span class="string">"The Last Tab"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .tabItem &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"3.square.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"Third"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">.font(.headline)</span></pre></td></tr></table></figure>

<h3 id="ä¸‰ã€SwiftUIå¿«é€Ÿä¸Šæ‰‹å®è·µ"><a href="#ä¸‰ã€SwiftUIå¿«é€Ÿä¸Šæ‰‹å®è·µ" class="headerlink" title="ä¸‰ã€SwiftUIå¿«é€Ÿä¸Šæ‰‹å®è·µ"></a>ä¸‰ã€SwiftUIå¿«é€Ÿä¸Šæ‰‹å®è·µ</h3><p>ä¸‹é¢æ¥å¿«é€Ÿå®ç°ä¸€ä¸ªæœ‰TabViewã€NavigationViewã€Listçš„ç®€å•ç¤ºä¾‹Demo</p>
<p><img src="https://i.loli.net/2019/11/24/1npsrk8Q7tZWgEM.png" alt="å®æ—¶é¢„è§ˆ"></p>
<p><code>SF Symbols</code> æ˜¯ä» <code>iOS 13</code> å’Œ <code>macOS 10.15</code> å¼€å§‹å†…ç½®äºç³»ç»Ÿä¸­çš„å­—ç¬¦å›¾æ ‡åº“ï¼Œå®ƒæä¾›äº†ä¸Šåƒç§å¸¸è§çš„çº¿æ¡å›¾æ ‡ï¼Œè€Œä¸”æˆ‘ä»¬å¯ä»¥ä»»æ„åœ°ä¸ºå®ƒä»¬è®¾ç½®å°ºå¯¸ï¼Œé¢œè‰²ç­‰å±æ€§ã€‚Apple ç”šè‡³å‡†å¤‡äº†ä¸“é—¨çš„appï¼š<a href="https://developer.apple.com/design/resources/" target="_blank" rel="noopener">SF Symbols</a> æ¥å¸®åŠ©ä½ æŸ¥çœ‹å¯ç”¨çš„ç¬¦å·ï¼š</p>
<p>æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ç”¨è¿™äº›<code>Symbols</code>åˆ¶ä½œä¸ªå°Demo</p>
<ul>
<li>ContentView.swiftï¼š</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> isLeftNav = <span class="literal">false</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> isRightNav = <span class="literal">false</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">init</span>() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="comment">//ä¿®æ”¹å¯¼èˆªæ æ–‡å­—é¢œè‰²</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">UINavigationBar</span>.appearance().largeTitleTextAttributes = [.foregroundColor: <span class="type">UIColor</span>.systemBlue]</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">UINavigationBar</span>.appearance().titleTextAttributes = [.foregroundColor: <span class="type">UIColor</span>.systemBlue]</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">UINavigationBar</span>.appearance().tintColor = .systemBlue</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">TabView</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="comment">// Tab1:</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">NavigationView</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">List</span>(<span class="type">Symbols</span>, id:\.<span class="keyword">self</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">ListRow</span>(symbol: $<span class="number">0</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .navigationBarTitle(<span class="type">Text</span>(<span class="string">"SF Symbols"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .navigationBarItems(leading: leftNavButton, trailing: rightNavButton)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;.tabItem &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Image</span>.<span class="keyword">init</span>(systemName: <span class="string">"star.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Text</span>(<span class="string">"Tab1"</span>).font(.subheadline)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="comment">// Tab2:</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">NavigationView</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Text</span>(<span class="string">"This is the second tab."</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;.tabItem &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Image</span>.<span class="keyword">init</span>(systemName: <span class="string">"star.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Text</span>(<span class="string">"Tab2"</span>).font(.subheadline)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> leftNavButton: some <span class="type">View</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">Button</span>(action: &#123; <span class="keyword">self</span>.isLeftNav.toggle() &#125;) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"person.crop.circle"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .imageScale(.large)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .accessibility(label: <span class="type">Text</span>(<span class="string">"Left"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .padding()</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .sheet(isPresented: $isLeftNav) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">VStack</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Text</span>(<span class="string">"Hello, we are QiShare!"</span>).foregroundColor(.blue).font(.system(size: <span class="number">32.0</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">HStack</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">Text</span>(<span class="string">"an iOS Team. "</span>).fontWeight(.black).foregroundColor(.purple)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">Text</span>(<span class="string">"We are learning SwiftUI."</span>).foregroundColor(.blue)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> rightNavButton: some <span class="type">View</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">Button</span>(action: &#123; <span class="keyword">self</span>.isRightNav.toggle() &#125;) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>(systemName: <span class="string">"paperplane.fill"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .imageScale(.large)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .accessibility(label: <span class="type">Text</span>(<span class="string">"Right"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .padding()</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .sheet(isPresented: $isRightNav, onDismiss: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="built_in">print</span>(<span class="string">"dissmiss RrightNav"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">ZStack</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Text</span>(<span class="string">"This is the Right Navi Button."</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>ListRow.swiftï¼šListå¯¹åº”çš„Cell</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListRow</span>: <span class="title">View</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> symbol: <span class="type">String</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">NavigationLink</span>(destination: <span class="type">ListDetail</span>(symbol: symbol)) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">HStack</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="comment">//å›¾ç‰‡</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Image</span>(systemName: symbol)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    .resizable()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    .frame(width: <span class="number">60</span>, height: <span class="number">60</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                    .foregroundColor(<span class="type">Colors</span>.randomElement())</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="comment">//åˆ†å‰²</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Divider</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="comment">//æ–‡å­—</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Text</span>(symbol)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>ListDetail.swiftï¼š</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListDetail</span>: <span class="title">View</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> symbol: <span class="type">String</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="type">VStack</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"Image:"</span>).font(.headline)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Image</span>(systemName: symbol)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .foregroundColor(<span class="type">Colors</span>.randomElement())</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .imageScale(.large)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .scaleEffect(<span class="number">3</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .padding(.bottom, <span class="number">100</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Divider</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">            </span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(<span class="string">"Image Name:"</span>).font(.headline)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Text</span>(symbol)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .font(.largeTitle)</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="type">Spacer</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        .navigationBarTitle(symbol)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>SwiftUI</category>
      </categories>
      <tags>
        <tag>SwiftUI</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å°è£…Frameworké™æ€åº“</title>
    <url>/2019/10/13/%E5%A6%82%E4%BD%95%E5%B0%81%E8%A3%85%20Framework%20%E9%9D%99%E6%80%81%E5%BA%93/</url>
    <content><![CDATA[<p>å·¥ä½œä¸­ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹SDKåŸºæœ¬ä¸Šéƒ½æ˜¯é—­æºçš„ï¼Œå› ä¸ºå…¬å¸ä¸èƒ½æŠŠè‡ªå·±çš„æœºå¯†æ³„éœ²å‡ºå»ã€‚æ‰€ä»¥å½“éœ€è¦ç»™åˆ«äººæä¾›SDKä½†ä¸è®©ä»–ä»¬çŸ¥é“ä»£ç çš„å®ç°æ—¶å°±éœ€è¦å°è£…æˆé™æ€åº“</p>
<p>é™æ€åº“æœ‰<code>.a</code>åº“å’Œ<code>.framework</code>åº“ï¼Œè‹¹æœå®˜æ–¹æ›´å»ºè®®æˆ‘ä»¬ä½¿ç”¨<code>.framework</code>åº“ï¼Œå› ä¸ºå…¶æ›´åŠ å¼ºå¤§</p>
<blockquote>
<p>.aæ˜¯ä¸€ä¸ªçº¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ.frameworkä¸­é™¤äº†æœ‰äºŒè¿›åˆ¶æ–‡ä»¶ä¹‹å¤–è¿˜æœ‰èµ„æºæ–‡ä»¶<br>.aæ–‡ä»¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè‡³å°‘è¦æœ‰.hæ–‡ä»¶é…åˆï¼Œ.frameworkæ–‡ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨<br>.a + .h + sourceFile = .framework</p>
</blockquote>
<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>å‚è€ƒè¿™ç¯‡åšå®¢ï¼š <a href="http://www.cocoachina.com/articles/11022" target="_blank" rel="noopener">iOSå¼€å‘â€”â€”åˆ›å»ºä½ è‡ªå·±çš„Framework</a> è®²è§£çš„éå¸¸è¯¦ç»†</p>
<p>æ€»ç»“ä¸€ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºå·¥ç¨‹ï¼Œæœ€å¥½æ˜¯èµ·åä¸ºxxxDemoä¾‹å¦‚AXKitDemoï¼Œç„¶åæ–°å»ºä¸€ä¸ªtargetåä¸ºAXKitï¼Œå¹¶æŠŠåŸæ¥çš„å·¥ç¨‹æ”¹åä¸ºAXKitï¼ˆä¸ºäº†æ–¹ä¾¿åœ¨demoä¸­è°ƒè¯•é™æ€åº“ï¼‰</li>
<li>æ–°å»ºä¸€ä¸ªtargetï¼Œé€‰æ‹©ç±»å‹ä¸ºframework</li>
<li>åœ¨frameworkä¸­åˆ›å»ºéœ€è¦å°è£…çš„ç±»ï¼Œå†™å¥½ä»£ç </li>
<li>åœ¨<code>Build Setting</code>é‡Œæ›´æ”¹å‚æ•°ï¼Œ<code>Math-O Type</code>ä¸º<code>Static Library</code></li>
<li>åœ¨<code>Build Phases -&gt; Headers</code>é‡Œå°†éœ€è¦æš´éœ²å‡ºæ¥çš„å¤´æ–‡ä»¶ä»<code>Project</code>ç§»åŠ¨åˆ°<code>Public</code></li>
<li>æ·»åŠ ä¸€ä¸ª<code>Aggregate</code>çš„targetï¼Œå¹¶æ·»åŠ è¿è¡Œè„šæœ¬ã€‚ç›®çš„æ˜¯æŠŠç¼–è¯‘å‡ºæ¥çš„çœŸæœºç‰ˆå’Œæ¨¡æ‹Ÿå™¨ç‰ˆçš„frameworkåˆå¹¶</li>
<li>æ¨¡æ‹Ÿå™¨ç¼–è¯‘ä¸€ä¸‹ï¼ŒçœŸæœºç¼–è¯‘ä¸€ä¸‹ï¼Œç„¶å<code>Aggregate</code>ç¼–è¯‘ä¸€ä¸‹ï¼Œç„¶ååœ¨é¡¹ç›®çš„<code>Products</code>æ–‡ä»¶å¤¹é‡Œå°±æœ‰äº†æœ€ç»ˆç”Ÿæˆçš„é™æ€åº“</li>
</ol>
<p><code>Aggregate</code>çš„Run Scriptè„šæœ¬ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="string">"$&#123;ACTION&#125;"</span> = <span class="string">"build"</span> ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">then</span></pre></td></tr><tr><td class="code"><pre><span class="line">INSTALL_DIR=$&#123;SRCROOT&#125;/Products/$&#123;PROJECT_NAME&#125;.framework</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">DEVICE_DIR=$&#123;BUILD_ROOT&#125;/$&#123;CONFIGURATION&#125;-iphoneos/$&#123;PROJECT_NAME&#125;.framework</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">SIMULATOR_DIR=$&#123;BUILD_ROOT&#125;/$&#123;CONFIGURATION&#125;-iphonesimulator/$&#123;PROJECT_NAME&#125;.framework</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -d <span class="string">"$&#123;INSTALL_DIR&#125;"</span> ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">then</span></pre></td></tr><tr><td class="code"><pre><span class="line">rm -rf <span class="string">"$&#123;INSTALL_DIR&#125;"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fi</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">mkdir -p <span class="string">"$&#123;INSTALL_DIR&#125;"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">cp -R <span class="string">"$&#123;DEVICE_DIR&#125;/"</span> <span class="string">"$&#123;INSTALL_DIR&#125;/"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">#ditto "$&#123;DEVICE_DIR&#125;/Headers" "$&#123;INSTALL_DIR&#125;/Headers"</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">lipo -create <span class="string">"$&#123;DEVICE_DIR&#125;/$&#123;PROJECT_NAME&#125;"</span> <span class="string">"$&#123;SIMULATOR_DIR&#125;/$&#123;PROJECT_NAME&#125;"</span> -output <span class="string">"$&#123;INSTALL_DIR&#125;/$&#123;PROJECT_NAME&#125;"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">#open "$&#123;DEVICE_DIR&#125;"</span></pre></td></tr><tr><td class="code"><pre><span class="line">#open "$&#123;SRCROOT&#125;/Products"</span></pre></td></tr><tr><td class="code"><pre><span class="line">fi</span></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Frameworké™æ€åº“</category>
      </categories>
      <tags>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSå¼€å‘ä¸»è¦æ¦‚å¿µæ€»ç»“</title>
    <url>/2019/08/24/iOS%E5%BC%80%E5%8F%91%E4%B8%BB%E8%A6%81%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h3 id="ä¸€ã€ç”¨ä»€ä¹ˆæ¶æ„ã€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆMVCã€MVVMï¼‰"><a href="#ä¸€ã€ç”¨ä»€ä¹ˆæ¶æ„ã€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆMVCã€MVVMï¼‰" class="headerlink" title="ä¸€ã€ç”¨ä»€ä¹ˆæ¶æ„ã€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆMVCã€MVVMï¼‰"></a>ä¸€ã€ç”¨ä»€ä¹ˆæ¶æ„ã€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆMVCã€MVVMï¼‰</h3><p><strong>1.MVCï¼Œå³Model-View-Controller</strong></p>
<blockquote>
<p>å®ƒæ˜¯è‹¹æœå…¬å¸å®˜æ–¹æ¨èçš„Appå¼€å‘æ¶æ„ï¼Œä¹Ÿæ˜¯ä¸€èˆ¬å¼€å‘è€…æœ€å…ˆé‡åˆ°ï¼Œæœ€ç»å…¸çš„æ¶æ„ã€‚<br>å®ƒæŠŠæ•´ä¸ªAppåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š<strong>Modelè´Ÿè´£å¤„ç†æ•°æ®</strong>ï¼›<strong>Viewè´Ÿè´£å¤„ç†UI</strong>ï¼›<strong>Controlleræ˜¯Viewå’ŒModelçš„æ¡¥æ¢</strong>ï¼Œå®ƒå°†æ•°æ®ä»Modelå±‚ä¼ é€åˆ°Viewå±‚å¹¶å±•ç¤ºå‡ºæ¥ï¼ŒåŒæ—¶å°†Viewå±‚çš„äº¤äº’ä¼ åˆ°Modelå±‚ä»¥æ”¹å˜æ•°æ®ã€‚<br>å®ƒæ˜¯åº”ç”¨çš„ä¸€ç§åŸºæœ¬æ¶æ„ï¼Œä¸»è¦ç›®çš„æ˜¯å°†ä¸åŒçš„ä»£ç å½’å¹¶ä¸ºä¸åŒçš„æ¨¡å—ï¼Œåšåˆ°ä½è€¦åˆã€ä»£ç åˆ†é…åˆç†ã€æ˜“äºæ‰©å±•ç»´æŠ¤ã€‚</p>
</blockquote>
<p><strong>2.MVVMï¼ŒMVVMè¡ç”ŸäºMVCï¼Œæ˜¯å¯¹ MVC çš„ä¸€ç§æ¼”è¿›ï¼Œå®ƒä¿ƒè¿›äº† UI ä»£ç ä¸ä¸šåŠ¡é€»è¾‘çš„åˆ†ç¦»</strong></p>
<blockquote>
<p>åœ¨MVVM ä¸­ï¼Œview å’Œ view controlleræ­£å¼è”ç³»åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬è§†ä¸ºä¸€ä¸ªç»„ä»¶ã€‚<br>view å’Œ view controller éƒ½ä¸èƒ½ç›´æ¥å¼•ç”¨modelï¼Œè€Œæ˜¯å¼•ç”¨è§†å›¾æ¨¡å‹ï¼ˆviewModelï¼‰ã€‚<br>viewModel æ˜¯ä¸€ä¸ªæ”¾ç½®ç”¨æˆ·è¾“å…¥éªŒè¯é€»è¾‘ï¼Œè§†å›¾æ˜¾ç¤ºé€»è¾‘ï¼Œå‘èµ·ç½‘ç»œè¯·æ±‚å’Œå…¶ä»–ä»£ç çš„åœ°æ–¹ã€‚<br>ä½¿ç”¨MVVMä¼šè½»å¾®çš„å¢åŠ ä»£ç é‡ï¼Œä½†æ€»ä½“ä¸Šå‡å°‘äº†ä»£ç çš„å¤æ‚æ€§ã€‚</p>
</blockquote>
<p><strong>3.MVVMæ˜¯MVCçš„å‡çº§ç‰ˆï¼Œå®Œå…¨å…¼å®¹å½“å‰çš„MVCæ¶æ„</strong></p>
<blockquote>
<p>MVVMè™½ç„¶ä¿ƒè¿›äº†UI ä»£ç ä¸ä¸šåŠ¡é€»è¾‘çš„åˆ†ç¦»ï¼Œä¸€å®šç¨‹åº¦ä¸Šå‡è½»äº†ViewControllerçš„è‡ƒè‚¿åº¦ï¼Œä½†æ˜¯Viewå’ŒViewModelä¹‹é—´çš„æ•°æ®ç»‘å®šä½¿å¾— MVVMå˜å¾—å¤æ‚å’Œéš¾ç”¨äº†ï¼Œå¦‚æœæˆ‘ä»¬ä¸èƒ½æ›´å¥½çš„é©¾é©­ä¸¤è€…ä¹‹é—´çš„æ•°æ®ç»‘å®šï¼ŒåŒæ ·ä¼šé€ æˆController ä»£ç è¿‡äºå¤æ‚ï¼Œä»£ç é€»è¾‘ä¸æ˜“ç»´æŠ¤çš„é—®é¢˜ã€‚</p>
</blockquote>
<h3 id="äºŒã€è§£é‡Šä¸€ä¸‹å¤šçº¿ç¨‹"><a href="#äºŒã€è§£é‡Šä¸€ä¸‹å¤šçº¿ç¨‹" class="headerlink" title="äºŒã€è§£é‡Šä¸€ä¸‹å¤šçº¿ç¨‹"></a>äºŒã€è§£é‡Šä¸€ä¸‹å¤šçº¿ç¨‹</h3><p><strong>1.OCä¸­å¤šçº¿ç¨‹æ ¹æ®å°è£…ç¨‹åº¦å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼š<code>NSThread</code>ã€<code>GCDå’ŒNSOperation</code></strong></p>
<p><strong>2.<code>NSThread</code>ï¼Œ<code>NSThread</code>æ˜¯å°è£…ç¨‹åº¦æœ€å°æœ€è½»é‡çº§çš„ï¼Œä½¿ç”¨æ›´çµæ´»ï¼Œä½†è¦æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€çº¿ç¨‹åŒæ­¥å’Œçº¿ç¨‹åŠ é”ç­‰ï¼Œå¼€é”€è¾ƒå¤§</strong></p>
<p><strong>3.GCD(Grand Central Dispatch)ï¼Œåˆå«å¤§ä¸­å¤®è°ƒåº¦ï¼Œæ˜¯ Apple å¼€å‘çš„ä¸€ä¸ªå¤šæ ¸ç¼–ç¨‹çš„è¾ƒæ–°çš„è§£å†³æ–¹æ³•</strong></p>
<blockquote>
<p>å®ƒä¸»è¦ç”¨äºä¼˜åŒ–åº”ç”¨ç¨‹åºä»¥æ”¯æŒå¤šæ ¸å¤„ç†å™¨ä»¥åŠå…¶ä»–å¯¹ç§°å¤šå¤„ç†ç³»ç»Ÿã€‚æä¾›äº†ç®€æ´çš„Cè¯­è¨€æ¥å£ï¼Œä½¿ç”¨æ›´åŠ ç®€å•é«˜æ•ˆï¼Œä¹Ÿæ˜¯è‹¹æœæ¨èçš„æ–¹å¼<br>å¯ä»¥è‡ªåŠ¨ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºçº¿ç¨‹ã€è°ƒåº¦ä»»åŠ¡ã€é”€æ¯çº¿ç¨‹ï¼‰<br>å¯ç”¨äºå¤šæ ¸çš„å¹¶è¡Œè¿ç®—<br>ä¼šè‡ªåŠ¨åˆ©ç”¨æ›´å¤šçš„ CPU å†…æ ¸ï¼ˆæ¯”å¦‚åŒæ ¸ã€å››æ ¸ï¼‰<br>åªéœ€è¦å‘Šè¯‰ GCD æƒ³è¦æ‰§è¡Œä»€ä¹ˆä»»åŠ¡ï¼Œä¸éœ€è¦ç¼–å†™ä»»ä½•çº¿ç¨‹ç®¡ç†ä»£ç <br>ä¸»è¦æ˜¯ä¸€äº›åŒæ­¥æ‰§è¡Œã€å¼‚æ­¥æ‰§è¡Œã€ä¸²è¡Œé˜Ÿåˆ—ã€å¹¶è¡Œé˜Ÿåˆ—<br>å°†â€ä»»åŠ¡â€(block)æ·»åŠ åˆ° é˜Ÿåˆ—(ä¸²è¡Œ/å¹¶å‘/ä¸»é˜Ÿåˆ—/å…¨å±€é˜Ÿåˆ—]),å¹¶ä¸”æŒ‡å®šæ‰§è¡Œä»»åŠ¡çš„å‡½æ•°(åŒæ­¥/å¼‚æ­¥)<br>ä¸€æ¬¡æ‰§è¡Œ<br>å»¶è¿Ÿæ‰§è¡Œ</p>
</blockquote>
<p><strong>4.NSOperationï¼ŒNSOperationæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå…¶ç›®çš„å°±æ˜¯ä¸ºäº†å®šä¹‰å­ç±»å…±æœ‰çš„æ–¹æ³•å’Œå±æ€§</strong></p>
<blockquote>
<p><strong>NSOperationã€NSOperationQueue</strong> æ˜¯åŸºäº GCD æ›´é«˜ä¸€å±‚çš„å°è£…ï¼Œå®Œå…¨é¢å‘å¯¹è±¡ã€‚ä½†æ˜¯æ¯” GCD æ›´ç®€å•æ˜“ç”¨ã€ä»£ç å¯è¯»æ€§ä¹Ÿæ›´é«˜<br><strong>å…¶å­ç±»æœ‰ä¸¤ä¸ªï¼šNSInvocationOperationã€NSBlockOperation</strong><br>æœ¬è´¨ä¸Šå°±æ˜¯GCDçš„å¹¶å‘é˜Ÿåˆ—ï¼Œå°±æ˜¯å¼‚æ­¥æ‰§è¡Œä»»åŠ¡</p>
</blockquote>
<h3 id="ä¸‰ã€RunTime"><a href="#ä¸‰ã€RunTime" class="headerlink" title="ä¸‰ã€RunTime"></a>ä¸‰ã€RunTime</h3><p><strong>1.Runtimeæ˜¯å±äºObject-Cçš„åº•å±‚ï¼Œæ˜¯ä¸€å¥—æ¯”è¾ƒåº•å±‚çš„çº¯Cè¯­è¨€APIï¼Œå±äºCè¯­è¨€åº“</strong></p>
<p><strong>2.åœ¨æˆ‘ä»¬å¹³æ—¶ç¼–å†™çš„Object-Cä»£ç ä¸­, ç¨‹åºè¿è¡Œè¿‡ç¨‹æ—¶, å…¶å®æœ€ç»ˆéƒ½æ˜¯è½¬æˆäº†Runtimeçš„Cè¯­è¨€ä»£ç , Runtimeç®—æ˜¯Object-Cçš„å¹•åå·¥ä½œè€…</strong></p>
<p><strong>3.é™æ€è¯­è¨€ï¼š</strong></p>
<blockquote>
<p>å¦‚Cè¯­è¨€ï¼Œç¼–è¯‘é˜¶æ®µå°±è¦å†³å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œå¦‚æœå‡½æ•°æœªå®ç°å°±ä¼šç¼–è¯‘æŠ¥é”™</p>
</blockquote>
<p><strong>åŠ¨æ€è¯­è¨€ï¼š</strong></p>
<blockquote>
<p>å¦‚OCè¯­è¨€ï¼Œç¼–è¯‘é˜¶æ®µå¹¶ä¸èƒ½å†³å®šçœŸæ­£è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œåªè¦å‡½æ•°å£°æ˜è¿‡å³ä½¿æ²¡æœ‰å®ç°ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚<br>OCæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå°±æ˜¯å› ä¸ºå®ƒæ€»æ˜¯æŠŠä¸€äº›å†³å®šæ€§çš„å·¥ä½œä»ç¼–è¯‘é˜¶æ®µæ¨è¿Ÿåˆ°è¿è¡Œæ—¶é˜¶æ®µã€‚<br>OCä»£ç çš„è¿è¡Œä¸ä»…éœ€è¦ç¼–è¯‘å™¨ï¼Œè¿˜éœ€è¦è¿è¡Œæ—¶ç³»ç»Ÿ(Runtime Sytem)æ¥æ‰§è¡Œç¼–è¯‘åçš„ä»£ç ã€‚</p>
</blockquote>
<p><strong>4.Runtime å®é™…ä¸Šæ˜¯ä¸€ä¸ªåº“ï¼Œè¿™ä¸ªåº“ä½¿æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡ã€æ£€æŸ¥å¯¹è±¡ï¼Œä¿®æ”¹ç±»å’Œå¯¹è±¡çš„æ–¹æ³•</strong></p>
<p><strong>5.æ¶ˆæ¯ï¼ˆæ–¹æ³•ï¼‰ä¼ é€’ã€æ¶ˆæ¯è½¬å‘</strong></p>
<p><strong>6.å…³è”å¯¹è±¡(Objective-C Associated Objects)ç»™åˆ†ç±»å¢åŠ å±æ€§</strong></p>
<p><strong>7.é­”æ³•(Method Swizzling)æ–¹æ³•æ·»åŠ å’Œæ›¿æ¢</strong></p>
<blockquote>
<p>åœ¨ Objective-C çš„è¿è¡Œæ—¶ä¸­ï¼Œæ¯ä¸ªç±»æœ‰ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚+load æ˜¯åœ¨ä¸€ä¸ªç±»è¢«åˆå§‹è£…è½½æ—¶è°ƒç”¨ï¼Œ+initialize æ˜¯åœ¨åº”ç”¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥ç±»çš„ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•å‰è°ƒç”¨çš„ã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸”åªæœ‰åœ¨æ–¹æ³•è¢«å®ç°çš„æƒ…å†µä¸‹æ‰ä¼šè¢«è°ƒç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@implementation ViewController</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">+ (void)load &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    static dispatch_once_t onceToken;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dispatch_once(&amp;onceToken, ^&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        Class class &#x3D; [self class];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        SEL originalSelector &#x3D; @selector(viewDidLoad);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        SEL swizzledSelector &#x3D; @selector(jkviewDidLoad);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="code"><pre><span class="line">        Method originalMethod &#x3D; class_getInstanceMethod(class,originalSelector);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        Method swizzledMethod &#x3D; class_getInstanceMethod(class,swizzledSelector);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#x2F;&#x2F;judge the method named  swizzledMethod is already existed.</span></pre></td></tr><tr><td class="code"><pre><span class="line">        BOOL didAddMethod &#x3D; class_addMethod(class, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod));</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#x2F;&#x2F; if swizzledMethod is already existed.</span></pre></td></tr><tr><td class="code"><pre><span class="line">        if (didAddMethod) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            class_replaceMethod(class, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        else &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            method_exchangeImplementations(originalMethod, swizzledMethod);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">- (void)jkviewDidLoad &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;æ›¿æ¢çš„æ–¹æ³•&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    [self jkviewDidLoad];</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    NSLog(@&quot;è‡ªå¸¦çš„æ–¹æ³•&quot;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    [super viewDidLoad];</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">@end</span></pre></td></tr></table></figure>

<p><strong>8.KVOçš„å®ç°</strong></p>
<blockquote>
<p>å…¨ç§°æ˜¯Key-value observingï¼Œç¿»è¯‘æˆé”®å€¼è§‚å¯Ÿã€‚æä¾›äº†ä¸€ç§å½“å…¶å®ƒå¯¹è±¡å±æ€§è¢«ä¿®æ”¹çš„æ—¶å€™èƒ½é€šçŸ¥å½“å‰å¯¹è±¡çš„æœºåˆ¶ã€‚</p>
</blockquote>
<p><strong>9.å®ç°å­—å…¸å’Œæ¨¡å‹çš„è‡ªåŠ¨è½¬æ¢(MJExtension)</strong></p>
<blockquote>
<p>åŸç†æè¿°ï¼šç”¨runtimeæä¾›çš„å‡½æ•°éå†Modelè‡ªèº«æ‰€æœ‰å±æ€§ï¼Œå¦‚æœå±æ€§åœ¨jsonä¸­æœ‰å¯¹åº”çš„å€¼ï¼Œåˆ™å°†å…¶èµ‹å€¼ã€‚<br>æ ¸å¿ƒæ–¹æ³•ï¼šåœ¨NSObjectçš„åˆ†ç±»ä¸­æ·»åŠ æ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>10.å®ç°NSCodingçš„è‡ªåŠ¨å½’æ¡£å’Œè‡ªåŠ¨è§£æ¡£</strong></p>
<blockquote>
<p>åŸç†æè¿°ï¼šç”¨runtimeæä¾›çš„å‡½æ•°éå†Modelè‡ªèº«æ‰€æœ‰å±æ€§ï¼Œå¹¶å¯¹å±æ€§è¿›è¡Œencodeå’Œdecodeæ“ä½œã€‚<br>æ ¸å¿ƒæ–¹æ³•ï¼šåœ¨Modelçš„åŸºç±»ä¸­é‡å†™æ–¹æ³•ã€‚</p>
</blockquote>
<h3 id="å››-RunLoop"><a href="#å››-RunLoop" class="headerlink" title="å››.RunLoop"></a>å››.RunLoop</h3><p><strong>1.RunLoop</strong></p>
<blockquote>
<p>RunLoopæ˜¯å¤šçº¿ç¨‹çš„æ³•å®ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®Œä»»åŠ¡åå°±ä¼šé€€å‡ºçº¿ç¨‹ã€‚ä¸»çº¿ç¨‹æ‰§è¡Œå®Œå³æ—¶ä»»åŠ¡æ—¶ä¼šç»§ç»­ç­‰å¾…æ¥æ”¶äº‹ä»¶è€Œä¸é€€å‡ºã€‚éä¸»çº¿ç¨‹é€šå¸¸æ¥è¯´å°±æ˜¯ä¸ºäº†æ‰§è¡ŒæŸä¸€ä»»åŠ¡çš„ï¼Œæ‰§è¡Œå®Œæ¯•å°±éœ€è¦å½’è¿˜èµ„æºï¼Œå› æ­¤é»˜è®¤æ˜¯ä¸è¿è¡ŒRunLoopçš„ï¼›</p>
</blockquote>
<p><strong>2.æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰å…¶å¯¹åº”çš„RunLoopï¼Œåªæ˜¯é»˜è®¤åªæœ‰ä¸»çº¿ç¨‹çš„RunLoopæ˜¯å¯åŠ¨çš„ï¼Œå…¶å®ƒå­çº¿ç¨‹çš„RunLoopé»˜è®¤æ˜¯ä¸å¯åŠ¨çš„ï¼Œè‹¥è¦å¯åŠ¨åˆ™éœ€è¦æ‰‹åŠ¨å¯åŠ¨</strong></p>
<p><strong>3.åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­ï¼Œå¦‚æœéœ€è¦åœ¨å¤„ç†å®ŒæŸä¸ªä»»åŠ¡åä¸é€€å‡ºï¼Œç»§ç»­ç­‰å¾…æ¥æ”¶äº‹ä»¶ï¼Œåˆ™éœ€è¦å¯ç”¨RunLoop</strong></p>
<p><strong>4.NSRunLoopæä¾›äº†ä¸€ä¸ªæ·»åŠ NSTimerçš„æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šModeï¼Œå¦‚æœè¦è®©ä»»ä½•æƒ…å†µä¸‹éƒ½å›è°ƒï¼Œåˆ™éœ€è¦è®¾ç½®Modeä¸ºCommonæ¨¡å¼</strong></p>
<p><strong>5.ä¿è¯çº¿ç¨‹çš„é•¿æ—¶é—´å­˜æ´»</strong></p>
<p><strong>6.ä¿è¯NSTimeråœ¨è§†å›¾æ»‘åŠ¨æ—¶ï¼Œä¾ç„¶èƒ½æ­£å¸¸è¿è½¬</strong></p>
<h3 id="äº”-å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼"><a href="#äº”-å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼" class="headerlink" title="äº”.å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼"></a>äº”.å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼</h3><p><strong>1.å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰:</strong></p>
<blockquote>
<p>æ­¤æ¨¡å¼ä¿è¯å¯¹äºä¸€ä¸ªç‰¹æœ‰çš„ç±»ï¼Œåªæœ‰ä¸€ä¸ªå…¬å…±çš„å®ä¾‹å­˜åœ¨ã€‚å®ƒä¸€èˆ¬ä¸æ‡’åŠ è½½ä¸€èµ·å‡ºç°ï¼Œåªæœ‰è¢«éœ€è¦æ—¶æ‰ä¼šåˆ›å»ºã€‚å•ä¾‹æ¨¡å¼çš„ä¾‹å­æœ‰UserDefaultsã€UIApplicationã€UIScreenï¼›</p>
</blockquote>
<p><strong>2.è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰:</strong></p>
<blockquote>
<p>å®ƒå®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œæ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡çš†å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚åœ¨iOSä¸­çš„å…¸å‹å®ç°æ˜¯NotificationCenterå’ŒKVOï¼›<br>KVO,Key-Value Observer,å³é”®å€¼è§‚å¯Ÿã€‚å®ƒæ˜¯ä¸€ç§æ²¡æœ‰é€šçŸ¥ä¸­å¿ƒçš„è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°æ–¹å¼ã€‚ä¸€ä¸ªä¸»ä½“å¯¹è±¡ç®¡ç†æ‰€æœ‰ä¾èµ–äºå®ƒçš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨è‡ªèº«çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ä¸»åŠ¨é€šçŸ¥è§‚å¯Ÿè€…å¯¹è±¡ã€‚<br>å®ƒçš„å…·ä½“å®ç°æ­¥éª¤å¦‚ä¸‹ã€‚<br>ï¼ˆ1ï¼‰æ³¨å†Œè§‚å¯Ÿè€…<br>ï¼ˆ2ï¼‰æ›´æ”¹ä¸»é¢˜å¯¹è±¡å±æ€§çš„å€¼ï¼Œå³è§¦å‘å‘é€æ›´æ”¹çš„é€šçŸ¥ã€‚<br>ï¼ˆ3ï¼‰åœ¨åˆ¶å®šçš„å›è°ƒå‡½æ•°ä¸­ï¼Œå¤„ç†æ”¶åˆ°çš„æ›´æ”¹é€šçŸ¥ã€‚</p>
</blockquote>
<h3 id="å…­-é¡¹ç›®çš„ä¼˜åŒ–"><a href="#å…­-é¡¹ç›®çš„ä¼˜åŒ–" class="headerlink" title="å…­.é¡¹ç›®çš„ä¼˜åŒ–"></a>å…­.é¡¹ç›®çš„ä¼˜åŒ–</h3><p><strong>å¿«ï¼š</strong>ä½¿ç”¨æ—¶é¿å…å‡ºç°å¡é¡¿ï¼Œå“åº”é€Ÿåº¦å¿«ï¼Œå‡å°‘ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´ï¼Œæ»¡è¶³ç”¨æˆ·æœŸæœ›ã€‚<br><strong>ç¨³ï¼š</strong>ä¸è¦åœ¨ç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­å´©æºƒå’Œæ— å“åº”ã€‚<br><strong>çœï¼š</strong>èŠ‚çœæµé‡å’Œè€—ç”µï¼Œå‡å°‘ç”¨æˆ·ä½¿ç”¨æˆæœ¬ï¼Œé¿å…ä½¿ç”¨æ—¶å¯¼è‡´æ‰‹æœºå‘çƒ«ã€‚<br><strong>å°ï¼š</strong>å®‰è£…åŒ…å°å¯ä»¥é™ä½ç”¨æˆ·çš„å®‰è£…æˆæœ¬ã€‚</p>
<p><strong>1.é‡ç”¨é—®é¢˜ï¼š</strong></p>
<blockquote>
<p>å¦‚UITableViewCellsã€UICollectionViewCellsã€UITableViewHeaderFooterViewsè®¾ç½®æ­£ç¡®çš„reuseIdentifierï¼Œå……åˆ†é‡ç”¨ï¼›<br>å°½é‡æŠŠviewsè®¾ç½®ä¸ºä¸é€æ˜ï¼šå½“opqueä¸ºNOçš„æ—¶å€™ï¼Œå›¾å±‚çš„åŠé€æ˜å–å†³äºå›¾ç‰‡å’Œå…¶æœ¬èº«åˆæˆçš„å›¾å±‚ä¸ºç»“æœï¼Œå¯æé«˜æ€§èƒ½ï¼›</p>
</blockquote>
<p><strong>2.ä¸è¦ä½¿ç”¨å¤ªå¤æ‚çš„XIB/Storyboardï¼š</strong></p>
<blockquote>
<p>è½½å…¥æ—¶å°±ä¼šå°†XIB/storyboardéœ€è¦çš„æ‰€æœ‰èµ„æºï¼ŒåŒ…æ‹¬å›¾ç‰‡å…¨éƒ¨è½½å…¥å†…å­˜ï¼Œå³ä½¿æœªæ¥å¾ˆä¹…æ‰ä¼šä½¿ç”¨ã€‚é‚£äº›ç›¸æ¯”çº¯ä»£ç å†™çš„å»¶è¿ŸåŠ è½½ï¼Œæ€§èƒ½åŠå†…å­˜å°±å·®äº†å¾ˆå¤šï¼›</p>
</blockquote>
<p><strong>3.é€‰æ‹©æ­£ç¡®çš„æ•°æ®ç»“æ„ï¼š</strong></p>
<blockquote>
<p>å­¦ä¼šé€‰æ‹©å¯¹ä¸šåŠ¡åœºæ™¯æœ€åˆé€‚çš„æ•°ç»„ç»“æ„æ˜¯å†™å‡ºé«˜æ•ˆä»£ç çš„åŸºç¡€ã€‚æ¯”å¦‚ï¼Œæ•°ç»„: æœ‰åºçš„ä¸€ç»„å€¼ã€‚ä½¿ç”¨ç´¢å¼•æ¥æŸ¥è¯¢å¾ˆå¿«ï¼Œä½¿ç”¨å€¼æŸ¥è¯¢å¾ˆæ…¢ï¼Œæ’å…¥/åˆ é™¤å¾ˆæ…¢ã€‚å­—å…¸: å­˜å‚¨é”®å€¼å¯¹ï¼Œç”¨é”®æ¥æŸ¥æ‰¾æ¯”è¾ƒå¿«ã€‚é›†åˆ: æ— åºçš„ä¸€ç»„å€¼ï¼Œç”¨å€¼æ¥æŸ¥æ‰¾å¾ˆå¿«ï¼Œæ’å…¥/åˆ é™¤å¾ˆå¿«ã€‚</p>
</blockquote>
<p><strong>4.å»¶è¿ŸåŠ è½½ï¼š</strong></p>
<blockquote>
<p>å¯¹äºä¸åº”è¯¥ä½¿ç”¨çš„æ•°æ®ï¼Œä½¿ç”¨å»¶è¿ŸåŠ è½½æ–¹å¼ã€‚å¯¹äºä¸éœ€è¦é©¬ä¸Šæ˜¾ç¤ºçš„è§†å›¾ï¼Œä½¿ç”¨å»¶è¿ŸåŠ è½½æ–¹å¼ã€‚æ¯”å¦‚ï¼Œç½‘ç»œè¯·æ±‚å¤±è´¥æ—¶æ˜¾ç¤ºçš„æç¤ºç•Œé¢ï¼Œå¯èƒ½ä¸€ç›´éƒ½ä¸ä¼šä½¿ç”¨åˆ°ï¼Œå› æ­¤åº”è¯¥ä½¿ç”¨å»¶è¿ŸåŠ è½½ã€‚</p>
</blockquote>
<p><strong>5.æ•°æ®ç¼“å­˜ï¼š</strong></p>
<blockquote>
<p>å¯¹äºcellçš„è¡Œé«˜è¦ç¼“å­˜èµ·æ¥ï¼Œä½¿å¾—reloadæ•°æ®æ—¶ï¼Œæ•ˆç‡ä¹Ÿæé«˜ã€‚è€Œå¯¹äºé‚£äº›ç½‘ç»œæ•°æ®ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½è¯·æ±‚çš„ï¼Œåº”è¯¥ç¼“å­˜èµ·æ¥ï¼Œå¯ä»¥å†™å…¥æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡plistæ–‡ä»¶å­˜å‚¨ï¼Œä¾‹å¦‚ä¸ªäººä¿¡æ¯çš„ä¸€äº›æ•°æ®ï¼Œä¹Ÿè®¸ä¼šæœ‰å¥½å‡ ä¸ªé¡µé¢ä¼šç”¨åˆ°ï¼Œé‚£ä¹ˆå°±æŠŠæ•°æ®å­˜å…¥æœ¬åœ°ï¼Œä½¿ç”¨çš„æ—¶å€™æ ¹æ®éœ€è¦å¯ä»¥ç›´æ¥ä»æœ¬åœ°è¿›è¡ŒåŠ è½½ã€‚</p>
</blockquote>
<p><strong>6.ä¸è¦é˜»å¡ä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹ä¸»è¦åšä»¥ä¸‹å‡ ä¸ªæ–¹é¢å·¥ä½œï¼š</strong></p>
<blockquote>
<p>UI ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ã€ç³»ç»Ÿäº‹ä»¶å¤„ç†ã€æ¶ˆæ¯å¤„ç†ã€ç•Œé¢å¸ƒå±€ã€ç•Œé¢ç»˜åˆ¶ã€ç•Œé¢åˆ·æ–°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œåº”è¯¥å°½é‡é¿å…å°†å…¶ä»–å¤„ç†æ”¾åœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œç‰¹åˆ«å¤æ‚çš„æ•°æ®è®¡ç®—å’Œç½‘ç»œè¯·æ±‚ç­‰ã€‚</p>
</blockquote>
<p><strong>7.å¤„ç†å†…å­˜è­¦å‘Š</strong></p>
<blockquote>
<p>åœ¨app delegateä¸­ä½¿ç”¨<code>applicationDidReceiveMemoryWarning</code>çš„æ–¹æ³•;<br>æ³¨å†Œå¹¶æ¥æ”¶ <code>UIApplicationDidReceiveMemoryWarningNotification</code>çš„é€šçŸ¥;</p>
</blockquote>
<p><strong>8.é€‰æ‹©æ­£ç¡®çš„æ•°æ®å­˜å‚¨é€‰é¡¹</strong></p>
<p><strong>9.é‡ç”¨å’Œå»¶è¿ŸåŠ è½½(lazy load) Views</strong></p>
<blockquote>
<p>æ›´å¤šçš„viewæ„å‘³ç€æ›´å¤šçš„æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯æ›´å¤šçš„CPUå’Œå†…å­˜æ¶ˆè€—ã€‚<br>ä¸è¦ä¸€æ¬¡åˆ›å»ºæ‰€æœ‰çš„subviewï¼Œè€Œæ˜¯å½“éœ€è¦æ—¶æ‰åˆ›å»ºã€‚</p>
</blockquote>
<p><strong>10.å°½é‡æŠŠviewsè®¾ç½®ä¸ºé€æ˜</strong></p>
<blockquote>
<p>å¦‚æœä½ æœ‰é€æ˜çš„Viewsä½ åº”è¯¥è®¾ç½®å®ƒä»¬çš„opaqueå±æ€§ä¸ºYESã€‚<br>åŸå› æ˜¯è¿™ä¼šä½¿ç³»ç»Ÿç”¨ä¸€ä¸ªæœ€ä¼˜çš„æ–¹å¼æ¸²æŸ“è¿™äº›viewsã€‚<br>åœ¨ç›¸å¯¹æ¯”è¾ƒé™æ­¢çš„ç”»é¢ä¸­ï¼Œè®¾ç½®è¿™ä¸ªå±æ€§ä¸ä¼šæœ‰å¤ªå¤§å½±å“ã€‚ç„¶è€Œå½“è¿™ä¸ªviewåµŒåœ¨scroll viewé‡Œè¾¹ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå¤æ‚åŠ¨ç”»çš„ä¸€éƒ¨åˆ†ï¼Œä¸è®¾ç½®è¿™ä¸ªå±æ€§çš„è¯ä¼šåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“appçš„æ€§èƒ½ã€‚</p>
</blockquote>
<h3 id="ä¸ƒã€KVCã€KVO"><a href="#ä¸ƒã€KVCã€KVO" class="headerlink" title="ä¸ƒã€KVCã€KVO"></a>ä¸ƒã€KVCã€KVO</h3><p><strong>1.é”®å€¼ç¼–ç æ˜¯ä¸€ç§é—´æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ä½¿ç”¨å­—ç¬¦ä¸²æ¥æ ‡è¯†å±æ€§ï¼Œè€Œä¸æ˜¯é€šè¿‡è°ƒç”¨å­˜å–æ–¹æ³•ï¼Œç›´æ¥æˆ–é€šè¿‡å®ä¾‹å˜é‡è®¿é—®çš„æœºåˆ¶ï¼Œéå¯¹è±¡ç±»å‹çš„å˜é‡å°†è¢«è‡ªåŠ¨å°è£…æˆ–è€…è§£å°æˆå¯¹è±¡ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä¼šç®€åŒ–ç¨‹åºä»£ç </strong></p>
<p><strong>2.KVCçš„ç¼ºç‚¹ï¼š</strong></p>
<blockquote>
<p>ä¸€æ—¦ä½¿ç”¨ KVC ä½ çš„ç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥å‡ºé”™è¯¯,å³ä¸ä¼šå¯¹è®¾ç½®çš„é”®ã€é”®è·¯å¾„è¿›è¡Œé”™è¯¯æ£€æŸ¥,ä¸”æ‰§è¡Œæ•ˆç‡è¦ä½äºåˆæˆå­˜å–å™¨æ–¹æ³•å’Œè‡ªå®šçš„ setter å’Œ getter æ–¹æ³•ã€‚å› ä¸ºä½¿ç”¨ KVC é”®å€¼ç¼–ç ,å®ƒå¿…é¡»å…ˆè§£æå­—ç¬¦ä¸²,ç„¶ååœ¨è®¾ç½®æˆ–è€…è®¿é—®å¯¹è±¡çš„å®ä¾‹å˜é‡ã€‚</p>
</blockquote>
<p><strong>3.é”®å€¼è§‚å¯Ÿæœºåˆ¶æ˜¯ä¸€ç§èƒ½ä½¿å¾—å¯¹è±¡è·å–åˆ°å…¶ä»–å¯¹è±¡å±æ€§å˜åŒ–çš„é€šçŸ¥ ï¼Œæå¤§çš„ç®€åŒ–äº†ä»£ç </strong></p>
<p><strong>4.å®ç° KVO é”®å€¼è§‚å¯Ÿæ¨¡å¼,è¢«è§‚å¯Ÿçš„å¯¹è±¡å¿…é¡»ä½¿ç”¨ KVC é”®å€¼ç¼–ç æ¥ä¿® æ”¹å®ƒçš„å®ä¾‹å˜é‡,è¿™æ ·æ‰èƒ½è¢«è§‚å¯Ÿè€…è§‚å¯Ÿåˆ°</strong></p>
<p>å› æ­¤ï¼ŒKVCæ˜¯KVOçš„åŸºç¡€ã€‚</p>
<p><strong>5.æ³¨å†Œè§‚å¯Ÿè€…(æ³¨æ„ï¼šè§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¸ä¼šè¢«ä¿ç•™ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾)</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)addObserver:(NSObject *)observer forKeyPath:(NSString *)keyPath </span></pre></td></tr><tr><td class="code"><pre><span class="line">options:(NSKeyValueObservingOptions)options </span></pre></td></tr><tr><td class="code"><pre><span class="line">context:(void *)context;</span></pre></td></tr></table></figure>

<p><strong>6.æ¥æ”¶å˜æ›´é€šçŸ¥</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)observeValueForKeyPath:(NSString *)keyPath</span></pre></td></tr><tr><td class="code"><pre><span class="line">ofObject:(id)object change:(NSDictionary *)change context:(void *)context;</span></pre></td></tr></table></figure>

<p><strong>7.ç§»é™¤å¯¹è±¡çš„è§‚å¯Ÿè€…èº«ä»½</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)removeObserver:(NSObject *)observer</span></pre></td></tr><tr><td class="code"><pre><span class="line">forKeyPath:(NSString *)keyPath;</span></pre></td></tr></table></figure>

<p><strong>8.KVOä¸­è°è¦ç›‘å¬è°æ³¨å†Œï¼Œç„¶åå¯¹å“åº”è¿›è¡Œå¤„ç†ï¼Œä½¿å¾—è§‚å¯Ÿè€…ä¸è¢«è§‚å¯Ÿè€…å®Œå…¨è§£è€¦ã€‚KVOåªæ£€æµ‹ç±»ä¸­çš„å±æ€§ï¼Œå¹¶ä¸”å±æ€§åéƒ½æ˜¯é€šè¿‡NSStringæ¥æŸ¥æ‰¾ï¼Œç¼–è¯‘å™¨ä¸ä¼šæ£€é”™å’Œè¡¥å…¨ï¼Œå…¨éƒ¨å–å†³äºè‡ªå·±</strong></p>
<h3 id="å…«ã€Blockã€é€šçŸ¥ã€ä»£ç†"><a href="#å…«ã€Blockã€é€šçŸ¥ã€ä»£ç†" class="headerlink" title="å…«ã€Blockã€é€šçŸ¥ã€ä»£ç†"></a>å…«ã€Blockã€é€šçŸ¥ã€ä»£ç†</h3><p><strong>1.ä»£ç†</strong></p>
<blockquote>
<p>æ˜¯ä¸€ç§å›è°ƒæœºåˆ¶ï¼Œä¸”æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼ŒDelegateéœ€è¦å®šä¹‰åè®®æ–¹æ³•ï¼Œä»£ç†å¯¹è±¡å®ç°åè®®æ–¹æ³•ï¼Œå¹¶ä¸”éœ€è¦å»ºç«‹ä»£ç†å…³ç³»æ‰å¯ä»¥å®ç°é€šä¿¡ï¼›</p>
</blockquote>
<p><strong>2.é€šçŸ¥</strong></p>
<blockquote>
<p>æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œä¸€ä¸ªå¯¹å‘æ‰€æœ‰çš„è§‚å¯Ÿè€…æä¾›å˜æ›´é€šçŸ¥ï¼›</p>
</blockquote>
<p><strong>3.æ•ˆç‡ï¼š</strong></p>
<blockquote>
<p>Delegateæ¯”NSNOtificationé«˜ï¼›</p>
</blockquote>
<p><strong>4.Block</strong></p>
<blockquote>
<p>ä¸€èˆ¬æ˜¯ä¸€å¯¹ä¸€çš„é€šä¿¡ï¼›</p>
</blockquote>
<blockquote>
<p>Blockæ›´åŠ ç®€æ´ï¼Œä¸éœ€è¦å®šä¹‰ç¹ççš„åè®®æ–¹æ³•ï¼Œä½†é€šä¿¡äº‹ä»¶æ¯”è¾ƒå¤šçš„è¯ï¼Œå»ºè®®ä½¿ç”¨Delegateï¼›</p>
</blockquote>
<h3 id="ä¹ã€AFNetWorkingåº•å±‚åŸç†"><a href="#ä¹ã€AFNetWorkingåº•å±‚åŸç†" class="headerlink" title="ä¹ã€AFNetWorkingåº•å±‚åŸç†"></a>ä¹ã€AFNetWorkingåº•å±‚åŸç†</h3><p><strong>1.AFHTTPRequestOperationManagerï¼š</strong></p>
<blockquote>
<p>å†…éƒ¨å°è£…çš„æ˜¯ NSURLConnection, è´Ÿè´£å‘é€ç½‘ç»œè¯·æ±‚, ä½¿ç”¨æœ€å¤šçš„ä¸€ä¸ªç±»ã€‚(3.0åºŸå¼ƒ)</p>
</blockquote>
<p><strong>2.AFHTTPSessionManagerï¼š</strong></p>
<blockquote>
<p>å†…éƒ¨å°è£…æ˜¯ NSURLSession, è´Ÿè´£å‘é€ç½‘ç»œè¯·æ±‚,ä½¿ç”¨æœ€å¤šçš„ä¸€ä¸ªç±»ã€‚</p>
</blockquote>
<p><strong>2.AFNetworkReachabilityManagerï¼š</strong></p>
<blockquote>
<p>å®æ—¶ç›‘æµ‹ç½‘ç»œçŠ¶æ€çš„å·¥å…·ç±»ã€‚å½“å‰çš„ç½‘ç»œç¯å¢ƒå‘ç”Ÿæ”¹å˜ä¹‹å,è¿™ä¸ªå·¥å…·ç±»å°±å¯ä»¥æ£€æµ‹åˆ°ã€‚</p>
</blockquote>
<p><strong>3. AFSecurityPolicyï¼š</strong></p>
<blockquote>
<p>ç½‘ç»œå®‰å…¨çš„å·¥å…·ç±», ä¸»è¦æ˜¯é’ˆå¯¹ HTTPS æœåŠ¡</p>
</blockquote>
<p><strong>4.AFURLRequestSerializationï¼š</strong></p>
<blockquote>
<p>åºåˆ—åŒ–å·¥å…·ç±»,åŸºç±»ã€‚ä¸Šä¼ çš„æ•°æ®è½¬æ¢æˆJSONæ ¼å¼(AFJSONRequestSerializer).ä½¿ç”¨ä¸å¤šã€‚</p>
</blockquote>
<p><strong>6). AFURLResponseSerializationï¼š</strong></p>
<blockquote>
<p>ååºåˆ—åŒ–å·¥å…·ç±»;åŸºç±».ä½¿ç”¨æ¯”è¾ƒå¤šã€‚</p>
</blockquote>
<p><strong>7.AFJSONResponseSerializer:</strong></p>
<blockquote>
<p>JSONè§£æå™¨,é»˜è®¤çš„è§£æå™¨ã€‚</p>
</blockquote>
<p><strong>8.AFHTTPResponseSerializer:</strong></p>
<blockquote>
<p>ä¸‡èƒ½è§£æå™¨; JSONå’ŒXMLä¹‹å¤–çš„æ•°æ®ç±»å‹,ç›´æ¥è¿”å›äºŒè¿›åˆ¶æ•°æ®.å¯¹æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä¸åšä»»ä½•å¤„ç†ã€‚</p>
</blockquote>
<p><strong>9.AFXMLParserResponseSerializer:</strong></p>
<blockquote>
<p>XMLè§£æå™¨;</p>
</blockquote>
<h3 id="10-Scoketè¿æ¥å’ŒHTTPè¿æ¥çš„åŒºåˆ«"><a href="#10-Scoketè¿æ¥å’ŒHTTPè¿æ¥çš„åŒºåˆ«" class="headerlink" title="10.Scoketè¿æ¥å’ŒHTTPè¿æ¥çš„åŒºåˆ«"></a>10.Scoketè¿æ¥å’ŒHTTPè¿æ¥çš„åŒºåˆ«</h3><p><strong>1.HTTPè¿æ¥ï¼š</strong></p>
<blockquote>
<p>çŸ­è¿æ¥ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº”åè¿æ¥æ–­å¼€ï¼ŒèŠ‚çœèµ„æºã€‚æœåŠ¡å™¨ä¸èƒ½ä¸»åŠ¨ç»™å®¢æˆ·ç«¯å“åº”ï¼ˆé™¤éé‡‡ç”¨HTTPé•¿è¿æ¥æŠ€æœ¯ï¼‰ï¼ŒiPhoneä¸»è¦ä½¿ç”¨ç±»NSURLConnection</p>
</blockquote>
<p><strong>2.Socketè¿æ¥ï¼š</strong></p>
<blockquote>
<p>é•¿è¿æ¥ï¼Œå®¢æˆ·ç«¯è·ŸæœåŠ¡å™¨ç«¯ç›´æ¥ä½¿ç”¨Socketè¿›è¡Œè¿æ¥ï¼Œæ²¡æœ‰è§„å®šè¿æ¥åæ–­å¼€ï¼Œå› æ­¤å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ®µä¿æŒè¿æ¥é€šé“ï¼ŒåŒæ–¹å¯ä»¥ä¸»åŠ¨å‘é€æ•°æ®ï¼Œä¸€èˆ¬å¤šç”¨äºæ¸¸æˆSocketé»˜è®¤è¿æ¥è¶…æ—¶æ—¶é—´æ˜¯30ç§’ï¼Œé»˜è®¤å¤§å°æ˜¯8Kï¼ˆç†è§£ä¸ºä¸€ä¸ªæ•°æ®åŒ…å¤§å°ï¼‰</p>
</blockquote>
<h3 id="åä¸€ã€isaæŒ‡é’ˆ"><a href="#åä¸€ã€isaæŒ‡é’ˆ" class="headerlink" title="åä¸€ã€isaæŒ‡é’ˆ"></a>åä¸€ã€isaæŒ‡é’ˆ</h3><p><strong>1.åœ¨ ios å¼€å‘ä¸­ï¼Œç±»ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç±»å¯¹è±¡ï¼Œ æ‰€æœ‰å¯¹è±¡ä¸­ï¼ŒåŒ…å«å®ä¾‹å¯¹è±¡å’Œç±»å¯¹è±¡ï¼Œéƒ½å«æœ‰ä¸€ä¸ªisa æŒ‡é’ˆ</strong></p>
<blockquote>
<p>å®ä¾‹å¯¹è±¡çš„isaæŒ‡é’ˆï¼Œ æŒ‡å‘ä»–çš„ç±»å¯¹è±¡ï¼Œç±»å¯¹è±¡çš„isa æŒ‡é’ˆï¼Œ æŒ‡å‘ä»–çš„å…ƒç±»ã€‚</p>
</blockquote>
<p><strong>2.ç³»ç»Ÿåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡å±äºå“ªä¸ªç±»ï¼Œä¹Ÿæ˜¯é€šè¿‡è¿™ä¸ªå¯¹è±¡çš„isaæŒ‡é’ˆçš„æŒ‡å‘æ¥åˆ¤æ–­</strong></p>
<p><strong>3.å¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡ï¼Œå­˜å‚¨åœ¨å¯¹è±¡æœ¬èº«ï¼Œå¯¹è±¡çš„å®ä¾‹æ–¹æ³•ï¼Œå­˜å‚¨åœ¨ä»–çš„isa æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡ä¸­</strong></p>
<blockquote>
<p>å³ï¼šå‡å·æ–¹æ³•å­˜å‚¨åœ¨ç±»å¯¹è±¡ä¸­ï¼Œç±»æ–¹æ³•å­˜å‚¨åœ¨ç±»å¯¹è±¡isaæ‰€æŒ‡å‘çš„å…ƒç±»ä¸­ï¼Œæˆå‘˜å˜é‡çš„å€¼å‚¨å­˜åœ¨å¯¹è±¡ä¸­ã€‚</p>
</blockquote>
<p><strong>4.å¯¹è±¡åœ¨è°ƒç”¨å‡å·æ–¹æ³•çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šåœ¨å¯¹è±¡çš„isaæŒ‡é’ˆæ‰€æŒ‡å‘çš„ç±»å¯¹è±¡ä¸­å¯»æ‰¾æ–¹æ³•ï¼Œè¿™ä¸€æ®µåœ¨kvoçš„å®ç°åŸç†ä¸­å°±èƒ½çœ‹åˆ°ï¼Œkvoçš„å®ç°åŸç†å°±æ˜¯ç³»ç»ŸåŠ¨æ€çš„ç”Ÿæˆä¸€ä¸ªç±»å¯¹è±¡ï¼Œè¿™ä¸ªç±»æ˜¯ç›‘å¬å¯¹è±¡çš„ç±»çš„å­ç±»ï¼Œåœ¨ç”Ÿæˆçš„ç±»ä¸­é‡å†™äº†ç›‘å¬å±æ€§çš„setæ–¹æ³•ï¼Œå®ç°å¯¹setæ–¹æ³•çš„ç›‘å¬ï¼Œä¹‹åå°†ç›‘å¬å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘ç³»ç»ŸåŠ¨æ€ç”Ÿæˆçš„è¿™ä¸ªç±»ï¼Œå½“ç›‘å¬å¯¹è±¡è°ƒç”¨setæ–¹æ³•æ—¶ï¼Œç”±äºç›‘å¬å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘çš„æ˜¯åˆšåˆšåŠ¨æ€ç”Ÿæˆçš„ç±»ï¼Œæ‰€ä»¥åœ¨å…¶ä¸­æ‰¾çš„çš„setæ–¹æ³•ä¹Ÿæ˜¯é‡å†™è¿‡æœ‰ç›‘å¬åŠŸèƒ½çš„setæ–¹æ³•ï¼Œè¿™å°±æ˜¯kvoçš„å®ç°åŸç†ã€‚åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡rutimeä¸­çš„æ–¹æ³•è®¾ç½®æŸä¸ªå¯¹è±¡isaæŒ‡é’ˆæŒ‡å‘çš„ç±»å¯¹è±¡ï¼Œè®©å¯¹è±¡è°ƒç”¨ä¸€äº›åŸæœ¬ä¸å±äºä»–çš„æ–¹æ³•</strong></p>
<h3 id="åäºŒã€H5ã€CSSã€JavaScript"><a href="#åäºŒã€H5ã€CSSã€JavaScript" class="headerlink" title="åäºŒã€H5ã€CSSã€JavaScript"></a>åäºŒã€H5ã€CSSã€JavaScript</h3><h3 id="åä¸‰ã€WebViewï¼ŒJSå’ŒåŸç”Ÿçš„äº¤äº’"><a href="#åä¸‰ã€WebViewï¼ŒJSå’ŒåŸç”Ÿçš„äº¤äº’" class="headerlink" title="åä¸‰ã€WebViewï¼ŒJSå’ŒåŸç”Ÿçš„äº¤äº’"></a>åä¸‰ã€WebViewï¼ŒJSå’ŒåŸç”Ÿçš„äº¤äº’</h3><p>iOS8.0ä¹‹åï¼Œè‹¹æœæ¨èä½¿ç”¨WebKitæ¡†æ¶ä¸­çš„WKWebViewæ¥åŠ è½½ç½‘é¡µï¼Œä½¿ç”¨WKWebViewConfigurationæ¥é…ç½®JSäº¤äº’ã€‚<br><strong>ç½‘é¡µåˆ‡æ¢</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[_webView goBack];    &#x2F;&#x2F;é¡µé¢åé€€</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">[_webView goForward];    &#x2F;&#x2F;é¡µé¢å‰è¿›</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">[_webView reload];    &#x2F;&#x2F;åˆ·æ–°å½“å‰é¡µé¢</span></pre></td></tr></table></figure>

<p><strong>JavaSriptè°ƒç”¨OC</strong></p>
<blockquote>
<p>ä¸»è¦ä¾é WKScriptMessageHandleråè®®ç±»ã€WKUserContentControllerå…¶ä¸­:<br>WKUserContentControllerå¯¹è±¡è´Ÿè´£æ³¨å†ŒJSæ–¹æ³•ï¼Œè®¾ç½®å¤„ç†æ¥æ”¶JSæ–¹æ³•çš„ä»£ç†ï¼Œä»£ç†éµå®ˆWKScriptMessageHandlerï¼Œå®ç°æ•æ‰åˆ°JSæ¶ˆæ¯çš„å›è°ƒæ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>1ã€é…ç½®ä¸JavaScriptçš„äº¤äº’</strong></p>
<blockquote>
<p>ç”¨WKWebViewConfigurationæ¥é…ç½®JSäº¤äº’</p>
</blockquote>
<p><strong>2ã€ä½¿ç”¨WKUserContentControllerï¼Œç”¨æ¥åš åŸç”Ÿä¸JavaScriptçš„äº¤äº’ç®¡ç†</strong></p>
<p><strong>3ã€ä½¿ç”¨åè®®ç±»WKScriptMessageHandlerï¼Œç”¨æ¥å¤„ç†ç›‘å¬JavaScriptæ–¹æ³•ä»è€Œè°ƒç”¨åŸç”ŸOCæ–¹æ³•ã€‚ï¼ˆå’ŒWKUserContentControlleræ­é…ä½¿ç”¨ï¼‰</strong></p>
<p><strong>4ã€é€šè¿‡ æ¥æ”¶JSä¼ å‡ºæ¶ˆæ¯çš„name è¿›è¡Œæ•æ‰çš„å›è°ƒæ–¹æ³•</strong></p>
<blockquote>
<p>psï¼šéµå®ˆWKScriptMessageHandleråè®®ï¼Œä»£ç†æ˜¯ç”±WKUserContentControlè®¾ç½®</p>
</blockquote>
<p><strong>OCè°ƒç”¨JavaSript</strong></p>
<blockquote>
<p>ä½¿ç”¨WKUserScriptï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„JavaScriptä»£ç </p>
</blockquote>
<p><strong>WKWebViewæ¶‰åŠçš„ä»£ç†æ–¹æ³•</strong></p>
<p><strong>WKNavigationDelegateåè®®</strong></p>
<blockquote>
<p>ä¸»è¦å¤„ç†ä¸€äº›è·³è½¬ã€åŠ è½½å¤„ç†æ“ä½œ</p>
</blockquote>
<h3 id="åå››ã€iOSäº‹ä»¶å“åº”æœºåˆ¶"><a href="#åå››ã€iOSäº‹ä»¶å“åº”æœºåˆ¶" class="headerlink" title="åå››ã€iOSäº‹ä»¶å“åº”æœºåˆ¶"></a>åå››ã€iOSäº‹ä»¶å“åº”æœºåˆ¶</h3><p>iOSçš„äº‹ä»¶å“åº”å¿…é¡»æ˜¯<code>UIResponder</code>å¯¹è±¡åŠå…¶å­ç±»ï¼Œæˆ‘ä»¬CommandæŸ¥çœ‹å±‚çº§å…³ç³»ä¸éš¾å‘ç°ï¼Œ<code>UITextView</code>ï¼Œ<code>UILabel</code>ï¼Œ<code>UIButton</code>ç­‰æ§ä»¶ä»–ä»¬éƒ½æ˜¯<code>UIResponder</code>çš„å­ç±»ã€‚è¿™ä¹Ÿæ˜¯ä»–ä»¬èƒ½å¤Ÿå“åº”äº‹ä»¶çš„åŸºç¡€ã€‚</p>
<p>å½“è§¦æ‘¸äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé¦–å…ˆç³»ç»Ÿé€šè¿‡<code>hitTest</code>æ–¹æ³•æ‰¾åˆ°èƒ½æœ€åˆé€‚çš„viewï¼Œæ‰€è°“æœ€åˆé€‚çš„view å…¶å®å°±æ˜¯ è§¦æ‘¸äº‹ä»¶ ä»–çš„è§¦æ‘¸ç‚¹æ˜¯å¦åœ¨è¿™ä¸ªViewä¸Šï¼Œä¸€ä¸ªç‚¹å¯èƒ½åœ¨å¤šä¸ªå åŠ çš„è§†å›¾ä¸Šï¼Œæ‰€ä»¥ç³»ç»Ÿä¼šæ‰¾åˆ°æ‰€æœ‰çš„viewï¼ˆç‚¹æ‰€åœ¨çš„viewï¼‰ï¼Œæ–¹å‘æ˜¯ä»åº•ä¸‹å¾€ä¸Šï¼Œæ‰€ä»¥åˆ¤æ–­ç‚¹çš„é¡ºåºå°±æ˜¯çˆ¶view-&gt;å­view-&gt;å­viewçš„å­viewï¼Œè¿™æ ·éå†ä¸‹å»ï¼Œé…åˆ<code>pointconvert</code>æ–¹æ³•å’Œ<code>pointinside</code>æ–¹æ³•å»åˆ¤æ–­è¿™ä¸ªç‚¹æ˜¯å¦åœ¨è¿™ä¸ªviewä¸Šï¼Œåœ¨å°±éå†ä»–çš„å­viewï¼Œç›´åˆ°ä¸æ»¡è¶³æ¡ä»¶ã€‚</p>
<p><strong>äº‹ä»¶çš„ä¼ é€’</strong></p>
<p>ç³»ç»ŸæŠŠäº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±<code>UIApplication</code>ç®¡ç†çš„äº‹ä»¶é˜Ÿåˆ—ä¸­<br>ä¹‹æ‰€ä»¥åŠ å…¥é˜Ÿåˆ—è€Œä¸æ˜¯æ ˆæ˜¯å› ä¸ºé˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œæ„å‘³ç€å…ˆäº§ç”Ÿçš„äº‹ä»¶ï¼Œå…ˆå¤„ç†</p>
<p>ç„¶åï¼Œäº‹ä»¶ä¼šæŒ‰ç…§<code>UIApplication</code> -&gt; <code>UIWindow</code> -&gt; <code>SuperView</code> -&gt; <code>SubView</code>çš„é¡ºåºä¸æ–­çš„æ£€æµ‹</p>
<p>è€Œæ£€æµ‹å°±æ˜¯é ä¸¤ä¸ªæ–¹æ³•<code>hitTest</code>ä¸<code>pointInside</code></p>
<h3 id="åäº”ã€iOSå†…å­˜ç®¡ç†"><a href="#åäº”ã€iOSå†…å­˜ç®¡ç†" class="headerlink" title="åäº”ã€iOSå†…å­˜ç®¡ç†"></a>åäº”ã€iOSå†…å­˜ç®¡ç†</h3><p><strong>1.é¦–å…ˆï¼Œä¸¥æ ¼çš„å†…å­˜ç®¡ç†ï¼Œèƒ½å¤Ÿæ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åœ¨æ€§èƒ½ä¸Šæœ‰å¾ˆå¤§çš„æé«˜ï¼Œå¦‚æœå¿½ç•¥å†…å­˜ç®¡ç†ï¼Œå¯èƒ½å¯¼è‡´åº”ç”¨å ç”¨å†…å­˜è¿‡é«˜ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒ</strong></p>
<p><strong>2.å†…å­˜ç®¡ç†æ–¹å¼ä¸»è¦åˆ†ä¸º3ç§:</strong></p>
<blockquote>
<p>ARCï¼ˆè‡ªåŠ¨å†…å­˜è®¡æ•°ï¼‰ã€MRCï¼ˆæ‰‹åŠ¨å†…å­˜è®¡æ•°ï¼‰ã€å†…å­˜æ± </p>
</blockquote>
<p><strong>3.è‡ªåŠ¨å†…å­˜è®¡æ•°å’Œæ‰‹åŠ¨å†…å­˜è®¡æ•°éƒ½æ˜¯ç”¨è®¡æ•°ç®¡ç†</strong></p>
<blockquote>
<p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯ä¸ªæ–°å¯¹è±¡çš„è®¡æ•°å™¨æ˜¯1ï¼Œå½“å¯¹è±¡çš„è®¡æ•°å™¨å‡ä¸º0æ—¶ï¼Œå°±ä¼šè¢«é”€æ¯ï¼›<br>é€šè¿‡retainå¯ä»¥è®©å¯¹è±¡çš„è®¡æ•°å™¨+1ã€releaseå¯ä»¥è®©å¯¹è±¡çš„è®¡æ•°å™¨-1ï¼›<br>ä¿è¯ä»»ä½•æ—¶å€™æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆä¸ªæ•°å’Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ç›¸åŒï¼Œå¤šä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå¯¹è±¡è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å°±åŠ 1ï¼Œå°‘ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå¯¹è±¡è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å°±å‡1ã€‚æ²¡æœ‰æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå¯¹è±¡å¯¹è±¡å°±è¢«é‡Šæ”¾äº†ã€‚</p>
</blockquote>
<p><strong>4.å†…å­˜ç®¡ç†éµå¾ªè°ä½¿ç”¨ã€è°åˆ›å»ºï¼›è°å¼•ç”¨ã€è°ç®¡ç†çš„åŸåˆ™</strong></p>
<p><strong>5.è¢«å­˜å…¥åˆ°è‡ªåŠ¨é‡Šæ”¾æ± å†…çš„å¯¹è±¡ï¼Œå½“è‡ªåŠ¨é‡Šæ”¾æ± è¢«é”€æ¯æ—¶ï¼Œä¼šå¯¹æ± å†…çš„å¯¹è±¡å…¨éƒ¨åšä¸€æ¬¡releaseæ“ä½œ</strong></p>
<p><strong>6.è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œä»€ä¹ˆæ—¶å€™åˆ›å»º?</strong></p>
<blockquote>
<p>ç¨‹åºåˆšå¯åŠ¨çš„æ—¶å€™ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾æ± </p>
</blockquote>
<blockquote>
<p>äº§ç”Ÿäº‹ä»¶ä»¥åï¼Œè¿è¡Œå¾ªç¯å¼€å§‹å¤„ç†äº‹ä»¶ï¼Œå°±ä¼šåˆ›å»ºè‡ªåŠ¨é‡Šæ”¾æ± </p>
</blockquote>
<p><strong>7.ä»€ä¹ˆæ—¶å€™é”€æ¯çš„?</strong></p>
<blockquote>
<p>ç¨‹åºè¿è¡Œç»“æŸä¹‹å‰é”€æ¯</p>
</blockquote>
<blockquote>
<p>äº‹ä»¶å¤„ç†ç»“æŸä»¥åï¼Œä¼šé”€æ¯è‡ªåŠ¨é‡Šæ”¾æ± </p>
</blockquote>
<blockquote>
<p>è¿˜æœ‰åœ¨æ± å­æ»¡çš„æ—¶å€™ï¼Œä¹Ÿä¼šé”€æ¯</p>
</blockquote>
]]></content>
      <categories>
        <category>æ€»ç»“</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä½¿ç”¨æ–¹æ³•æ€»ç»“</title>
    <url>/2019/06/08/Git%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p><strong>Gitä½¿ç”¨httpsåè®®ï¼Œæœ¬åœ°Gitä»“åº“å’ŒGitHubä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„ï¼Œæ¯æ¬¡pull,pushéƒ½è¦è¾“å…¥å¯†ç ï¼Œä½¿ç”¨Gitåè®®ï¼Œä½¿ç”¨sshç§˜é’¥ï¼Œå¯ä»¥çœå»æ¯æ¬¡è¾“å¯†ç </strong></p>
<p>å¤§æ¦‚éœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š<br>ä¸€ã€æœ¬åœ°ç”Ÿæˆå¯†é’¥å¯¹ï¼›<br>äºŒã€è®¾ç½®githubä¸Šçš„å…¬é’¥ï¼›<br>ä¸‰ã€ä¿®æ”¹gitçš„remote urlä¸ºgitåè®®ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">//gité…ç½®ä¿¡æ¯æŸ¥è¯¢</span></pre></td></tr><tr><td class="code"><pre><span class="line">git config --list</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//å…¨å±€é…ç½®Gitè´¦æˆ·</span></pre></td></tr><tr><td class="code"><pre><span class="line">git config --global user.name "ç”¨æˆ·å"</span></pre></td></tr><tr><td class="code"><pre><span class="line">git config --global user.email xxxè´¦å·é‚®ç®±@xxx.com</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//åœ¨æŸä¸ªGitä»“åº“é‡Œï¼Œè‹¥æ˜¯ä¸åŒGitè´¦å·çš„è¯ï¼Œå»æ‰--globalé‡æ–°é…ç½®</span></pre></td></tr><tr><td class="code"><pre><span class="line">git config user.name "ç”¨æˆ·å"</span></pre></td></tr><tr><td class="code"><pre><span class="line">git config user.email xxxè´¦å·é‚®ç®±@xxx.com</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//é€šè¿‡ç»ˆç«¯å‘½ä»¤åˆ›å»ºssh key</span></pre></td></tr><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "xxxxè´¦å·é‚®ç®±@xx.com"</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//è‹¥æ²¡æœ‰åˆ›å»ºè¿‡ssh keyï¼Œä¼šè¦æ±‚ç¡®è®¤è·¯å¾„å’Œè¾“å…¥å¯†ç ï¼Œé»˜è®¤çš„ä¸€è·¯å›è½¦å°±è¡Œã€‚æˆåŠŸçš„è¯ä¼šåœ¨~/ä¸‹ç”Ÿæˆ.sshæ–‡ä»¶å¤¹ï¼Œè¿›å»ï¼Œæ‰“å¼€id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„key</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//ç»ˆç«¯æŸ¥çœ‹.ssh/id_rsa.pubæ–‡ä»¶: </span></pre></td></tr><tr><td class="code"><pre><span class="line">open .ssh/id_rsa.pub</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//å›è½¦åï¼Œå°±ä¼šæ–°å¼¹å‡ºä¸€ä¸ªç»ˆç«¯ï¼Œç„¶åå¤åˆ¶é‡Œé¢çš„key,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//æˆ–è€…ç”¨catå‘½ä»¤æŸ¥çœ‹:</span></pre></td></tr><tr><td class="code"><pre><span class="line">cat .ssh/id_rsa.pub</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//ç™»å½•GitHubï¼Œç‚¹å‡»Settingsï¼Œæ·»åŠ ssh key</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//æ·»åŠ ssh keyå®Œæˆåé“¾æ¥éªŒè¯</span></pre></td></tr><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">//å¦‚æœï¼Œçœ‹åˆ°ï¼š</span></pre></td></tr><tr><td class="code"><pre><span class="line">//Hi username! You've successfully authenticated, but GitHub does not # provide shell access.</span></pre></td></tr><tr><td class="code"><pre><span class="line">//å°±è¡¨ç¤ºä½ çš„è®¾ç½®å·²ç»æˆåŠŸäº†ã€‚</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//æäº¤æœ¬åœ°é¡¹ç›®åˆ°GitHub</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//1ï¼‰åœ¨GitHubä¸Šæ–°åˆ›å»ºä¸€ä¸ª repositoryæˆ–è€…Start a Project</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//2)Cloneå·¥ç¨‹åˆ°æœ¬åœ°ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ä¸­</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//3)åœ¨Xcodeä¸­æ–°åˆ›å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œä¿å­˜çš„è·¯å¾„ä¸ºåˆšåˆšå…‹éš†ä¸‹æ¥çš„æ–‡ä»¶å¤¹ä¸‹</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//4)æäº¤ä¿®æ”¹ï¼Œé¦–å…ˆåˆ‡æ¢åˆ°cloneä¸‹æ¥çš„çš„æ–‡ä»¶è·¯å¾„ä¸‹ï¼š</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ç„¶åè¾“å…¥:</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼ˆ.ä»£è¡¨æäº¤æ‰€æœ‰æ–‡ä»¶ï¼‰,ç”¨å‘½ä»¤git addå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼š</span></pre></td></tr><tr><td class="code"><pre><span class="line">git add .</span></pre></td></tr><tr><td class="code"><pre><span class="line">//æŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼Œ-måé¢çš„å­—ç¬¦ä¸²ä¸ºæœ¬æ¬¡æäº¤çš„è¯´æ˜ï¼Œå¯ä»¥è¾“å…¥ä»»æ„å†…å®¹ï¼Œå½“ç„¶æœ€å¥½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™æ ·ä½ å°±èƒ½ä»å†å²è®°å½•é‡Œæ–¹ä¾¿åœ°æ‰¾åˆ°æ”¹åŠ¨è®°å½•ã€‚</span></pre></td></tr><tr><td class="code"><pre><span class="line">git commit -m "First Commit"</span></pre></td></tr><tr><td class="code"><pre><span class="line">//ä¸Šä¼ åˆ°github</span></pre></td></tr><tr><td class="code"><pre><span class="line">git push</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//ä¿®æ”¹æœ¬åœ°çš„ssh remote urlï¼Œä¸ç”¨httpsåè®®ï¼Œæ”¹ç”¨git åè®®</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//å¯ä»¥ç”¨git remote -v æŸ¥çœ‹ä½ å½“å‰çš„remote url</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">origin https://github.com/someaccount/someproject.git (fetch)</span></pre></td></tr><tr><td class="code"><pre><span class="line">origin https://github.com/someaccount/someproject.git (push)</span></pre></td></tr><tr><td class="code"><pre><span class="line">//å¯ä»¥çœ‹åˆ°æ˜¯ä½¿ç”¨httpsåè®®è¿›è¡Œè®¿é—®çš„ã€‚</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//ä½¿ç”¨æµè§ˆå™¨ç™»é™†githubï¼Œä¸Šé¢çš„sshåè®®ç›¸åº”çš„urlã€‚ç±»ä¼¼å¦‚ä¸‹ï¼š</span></pre></td></tr><tr><td class="code"><pre><span class="line">git@github.com:someaccount/someproject.git</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//è¿™æ—¶å¯ä»¥ä½¿ç”¨ git remote set-url æ¥è°ƒæ•´ä½ çš„urlã€‚</span></pre></td></tr><tr><td class="code"><pre><span class="line">git remote set-url origin git@github.com:someaccount/someproject.git</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">å®Œäº†ä¹‹åï¼Œå†ç”¨ git remote -v æŸ¥çœ‹ä¸€ä¸‹ã€‚</span></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆGitHubéœ€è¦SSH Keyå‘¢ï¼Ÿå› ä¸ºGitHubéœ€è¦è¯†åˆ«å‡ºä½ æ¨é€çš„æäº¤ç¡®å®æ˜¯ä½ æ¨é€çš„ï¼Œè€Œä¸æ˜¯åˆ«äººå†’å……çš„ï¼Œè€ŒGitæ”¯æŒSSHåè®®ï¼Œæ‰€ä»¥ï¼ŒGitHubåªè¦çŸ¥é“äº†ä½ çš„å…¬é’¥ï¼Œå°±å¯ä»¥ç¡®è®¤åªæœ‰ä½ è‡ªå·±æ‰èƒ½æ¨é€ã€‚</p>
<p>å½“ç„¶ï¼ŒGitHubå…è®¸ä½ æ·»åŠ å¤šä¸ªKeyã€‚å‡å®šä½ æœ‰è‹¥å¹²ç”µè„‘ï¼Œä½ ä¸€ä¼šå„¿åœ¨å…¬å¸æäº¤ï¼Œä¸€ä¼šå„¿åœ¨å®¶é‡Œæäº¤ï¼Œåªè¦æŠŠæ¯å°ç”µè„‘çš„Keyéƒ½æ·»åŠ åˆ°GitHubï¼Œå°±å¯ä»¥åœ¨æ¯å°ç”µè„‘ä¸Šå¾€GitHubæ¨é€äº†ã€‚</p>
<p>ä»Šå¤©æäº¤gitä»“åº“çš„æ—¶å€™ï¼Œé‡åˆ°äº†å¦‚æˆªå›¾æ‰€ç¤ºçš„é—®é¢˜ï¼Œæç¤ºYour branch is up-to-date with â€˜origin/masterâ€™.</p>
<p><img src="https://i.loli.net/2019/12/19/SVFKb3kLymlONC2.png" alt="æˆªå±2019-12-19ä¸Šåˆ12.35.16.png"></p>
<p>æŸ¥äº†äº›èµ„æ–™åï¼Œå‘ç°å…¶æ ¹æœ¬åŸå› æ˜¯ç‰ˆæœ¬åˆ†æ”¯çš„é—®é¢˜</p>
<h5 id="è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ–°å»ºä¸€ä¸ªåˆ†æ”¯"><a href="#è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ–°å»ºä¸€ä¸ªåˆ†æ”¯" class="headerlink" title="è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ–°å»ºä¸€ä¸ªåˆ†æ”¯"></a>è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ–°å»ºä¸€ä¸ªåˆ†æ”¯</h5><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">$ git branch newbranch</span></pre></td></tr></table></figure>

<h5 id="ç„¶åæ£€æŸ¥åˆ†æ”¯æ˜¯å¦åˆ›å»ºæˆåŠŸ"><a href="#ç„¶åæ£€æŸ¥åˆ†æ”¯æ˜¯å¦åˆ›å»ºæˆåŠŸ" class="headerlink" title="ç„¶åæ£€æŸ¥åˆ†æ”¯æ˜¯å¦åˆ›å»ºæˆåŠŸ"></a>ç„¶åæ£€æŸ¥åˆ†æ”¯æ˜¯å¦åˆ›å»ºæˆåŠŸ</h5><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">$ git branch</span></pre></td></tr></table></figure>

<p>ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼ˆå‰é¢çš„*ä»£è¡¨çš„æ˜¯å½“å‰ä½ æ‰€åœ¨çš„å·¥ä½œåˆ†æ”¯ï¼‰</p>
<p><img src="https://i.loli.net/2019/12/19/vya3LgsZ7doUGSW.png" alt="æˆªå±2019-12-19ä¸Šåˆ12.36.39.png"></p>
<h5 id="ç„¶ååˆ‡æ¢åˆ°ä½ çš„æ–°åˆ†æ”¯"><a href="#ç„¶ååˆ‡æ¢åˆ°ä½ çš„æ–°åˆ†æ”¯" class="headerlink" title="ç„¶ååˆ‡æ¢åˆ°ä½ çš„æ–°åˆ†æ”¯"></a>ç„¶ååˆ‡æ¢åˆ°ä½ çš„æ–°åˆ†æ”¯</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout newbranch</span></span></pre></td></tr></table></figure>

<p>å¦‚æœä¸æ”¾å¿ƒï¼Œè¿˜å¯ä»¥ $ git branchç¡®è®¤ä¸‹</p>
<h5 id="ç„¶åå°†ä½ çš„æ”¹åŠ¨æäº¤åˆ°æ–°åˆ†æ”¯ä¸Š"><a href="#ç„¶åå°†ä½ çš„æ”¹åŠ¨æäº¤åˆ°æ–°åˆ†æ”¯ä¸Š" class="headerlink" title="ç„¶åå°†ä½ çš„æ”¹åŠ¨æäº¤åˆ°æ–°åˆ†æ”¯ä¸Š"></a>ç„¶åå°†ä½ çš„æ”¹åŠ¨æäº¤åˆ°æ–°åˆ†æ”¯ä¸Š</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add . </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"18.03.01"</span></span></span></pre></td></tr></table></figure>

<h5 id="ç„¶ågit-statusæ£€æŸ¥æ˜¯å¦æˆåŠŸ"><a href="#ç„¶ågit-statusæ£€æŸ¥æ˜¯å¦æˆåŠŸ" class="headerlink" title="ç„¶ågit statusæ£€æŸ¥æ˜¯å¦æˆåŠŸ"></a>ç„¶å<code>git status</code>æ£€æŸ¥æ˜¯å¦æˆåŠŸ</h5><p><img src="https://i.loli.net/2019/12/19/1tkOUYPfarSyjF9.png" alt="æˆªå±2019-12-19ä¸Šåˆ12.37.14.png"></p>
<h5 id="ç„¶ååˆ‡æ¢åˆ°ä¸»åˆ†æ”¯"><a href="#ç„¶ååˆ‡æ¢åˆ°ä¸»åˆ†æ”¯" class="headerlink" title="ç„¶ååˆ‡æ¢åˆ°ä¸»åˆ†æ”¯"></a>ç„¶ååˆ‡æ¢åˆ°ä¸»åˆ†æ”¯</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout master</span></span></pre></td></tr></table></figure>

<h5 id="ç„¶åå°†æ–°åˆ†æ”¯æäº¤çš„æ”¹åŠ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š"><a href="#ç„¶åå°†æ–°åˆ†æ”¯æäº¤çš„æ”¹åŠ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š" class="headerlink" title="ç„¶åå°†æ–°åˆ†æ”¯æäº¤çš„æ”¹åŠ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š"></a>ç„¶åå°†æ–°åˆ†æ”¯æäº¤çš„æ”¹åŠ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git merge newbranch</span></span></pre></td></tr></table></figure>

<h5 id="ç„¶åå°±å¯ä»¥pushä»£ç äº†"><a href="#ç„¶åå°±å¯ä»¥pushä»£ç äº†" class="headerlink" title="ç„¶åå°±å¯ä»¥pushä»£ç äº†"></a>ç„¶åå°±å¯ä»¥pushä»£ç äº†</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span></pre></td></tr></table></figure>

<h5 id="æœ€åè¿˜å¯ä»¥åˆ é™¤è¿™ä¸ªåˆ†æ”¯"><a href="#æœ€åè¿˜å¯ä»¥åˆ é™¤è¿™ä¸ªåˆ†æ”¯" class="headerlink" title="æœ€åè¿˜å¯ä»¥åˆ é™¤è¿™ä¸ªåˆ†æ”¯"></a>æœ€åè¿˜å¯ä»¥åˆ é™¤è¿™ä¸ªåˆ†æ”¯</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -D newbranch</span></span></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ€»ç»“</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¶ˆè´¹è€…å¿ƒç†å­¦ï¼šä¸‰ä¸ªè¶£å‘³ç»æµå­¦åŸç†</title>
    <url>/2019/01/23/%E6%B6%88%E8%B4%B9%E8%80%85%E5%BF%83%E7%90%86%E5%AD%A6%EF%BC%9A%E4%B8%89%E4%B8%AA%E8%B6%A3%E5%91%B3%E7%BB%8F%E6%B5%8E%E5%AD%A6%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<h2 id="æ¶ˆè´¹è€…å¿ƒç†å­¦ï¼šä¸‰ä¸ªè¶£å‘³ç»æµå­¦åŸç†"><a href="#æ¶ˆè´¹è€…å¿ƒç†å­¦ï¼šä¸‰ä¸ªè¶£å‘³ç»æµå­¦åŸç†" class="headerlink" title="æ¶ˆè´¹è€…å¿ƒç†å­¦ï¼šä¸‰ä¸ªè¶£å‘³ç»æµå­¦åŸç†"></a>æ¶ˆè´¹è€…å¿ƒç†å­¦ï¼šä¸‰ä¸ªè¶£å‘³ç»æµå­¦åŸç†</h2><p>ã€€é™ä»·ã€èŠ‚çº¦ã€å…è´¹ï¼Œåœ¨äº’è”ç½‘èƒŒæ™¯ä¸‹æˆä¸ºä¸å°‘å•†å®¶æ‰“å¤©ä¸‹çš„ä¸‰æ¿æ–§ã€‚ä»ä¸å°‘å›½å†…ä¼ä¸šçš„å®è·µæ¥çœ‹ï¼Œæ•ˆæœå¹¶ä¸é‚£ä¹ˆç†æƒ³ã€‚ä»·æ ¼æ˜¯å•†å“ä»·å€¼å®ç°çš„é‡è¦ä¾æ®ï¼Œæ–‡ç« ä¸­ä½œè€…é’ˆå¯¹è™šè£æ•ˆåº”ã€èŠ‚çº¦æ‚–è®ºå’Œå…è´¹ç»æµå­¦çš„ä¸‰ä¸ªé¢†åŸŸçš„ç°è±¡åšå‡ºè§£é‡Šï¼Œåœ¨äº§å“å®šä»·å’Œè¥é”€ç­‰æ–¹é¢ç»™å‡ºäº†å»ºè®®ã€‚</p>
<p>ã€€ã€€ä»·æ ¼è¶Šä½ä¸ºä»€ä¹ˆä¸ä½†ä¸å¥½å–ï¼Œåè€Œä»·æ ¼è¶Šé«˜è¶Šå¥½å–ï¼Œä¸ºä»€ä¹ˆå¤§æ‰‹å¤§è„šçš„æµªè´¹åè€Œå¯ä»¥æ‹¯æ•‘ç»æµ?ä¸ºä»€ä¹ˆå…è´¹æœªå¿…å°±æ˜¯æœ€å¥½çš„ï¼Œè¿™äº›ç»æµå­¦åŸç†èƒŒååˆæœ‰å“ªäº›é€»è¾‘åœ¨æ”¯æ’‘ï¼Œè®©æˆ‘å»æ¢è®¨ä¸€ä¸‹è¿™äº›å¥½ç©çš„ç»æµå­¦å§ã€‚</p>
<h4 id="ä»·æ ¼è¶Šé«˜è¶Šå¥½å–â€”â€”è™šè£æ•ˆåº”"><a href="#ä»·æ ¼è¶Šé«˜è¶Šå¥½å–â€”â€”è™šè£æ•ˆåº”" class="headerlink" title="ä»·æ ¼è¶Šé«˜è¶Šå¥½å–â€”â€”è™šè£æ•ˆåº”"></a>ä»·æ ¼è¶Šé«˜è¶Šå¥½å–â€”â€”è™šè£æ•ˆåº”</h4><p>ã€€ ã€€å¯Œäººä»¬ä¸€èˆ¬ä¸å–œæ¬¢å¤§ä¼—æ¨¡ä»¿ä»–ä»¬çš„æ¶ˆè´¹è¡Œä¸ºï¼Œè¿™ç§æƒ…å†µå°±å«åšè™šè£æ•ˆåº”(snob effect)ã€‚è™šè£æ•ˆåº”å…·ä½“æ˜¯æŒ‡è´­ä¹°å•†å“çš„æ—¶å€™è¿½æ±‚ä¸ä¼—ä¸åŒçš„ä¸ªæ€§çš„ç°è±¡ã€‚åœ¨éŸ©å›½ä¹Ÿç§°ä¸ºç™½é¹­æ•ˆåº”ã€‚å› ä¸ºå¯¹äºæŸäº›äººæ¥è¯´ï¼Œå³ä¾¿æ˜¯è‡ªå·±åŸæœ¬é•¿æœŸä½¿ç”¨çš„å•†å“ï¼Œ ä¸€æ—¦æˆä¸ºå¤§ä¼—åŒ–å•†å“çš„è¯ï¼Œä»–ä»¬å°±ä¼šå°†å…¶æ›´æ¢ä¸ºå¹¶ä¸å¹¿ä¸ºäººçŸ¥çš„æ–°å•†å“ï¼Œå°±å¥½åƒå¦‚æœä¸€ä¸ªåœ°æ–¹çš„ä¹Œé¸¦å¤§é‡æ¶Œè¿›ï¼Œç™½é¹­å°±ä¼šç¦»å¼€ä¸€æ ·ã€‚</p>
<p>ã€€ã€€1950 å¹´ï¼Œç¾å›½ç»æµå­¦å®¶å“ˆç»´è±å®¾æ–¯å¦(Harvey Leibenstein)åŒæ—¶å‘å¸ƒäº†éšç€å…¶ä»–äººçš„ä½¿ç”¨ä¸å¦å¢åŠ è´­ä¹°æ„å›¾çš„ä»ä¼—æ•ˆåº”(bandwagon effect)å’Œéšç€å…¶ä»–äººçš„ä½¿ç”¨ä¸å¦å‡å°‘è´­ä¹°æ„å›¾çš„è™šè£æ•ˆåº”ã€‚å¦‚æœæŸç§å•†å“æˆä¸ºå¹¿ä¸ºäººçŸ¥çš„äººæ°”å•†å“ï¼Œåˆ™äººäººéƒ½æƒ³è´­ä¹°ï¼Œè¿™ç§ç°è±¡å°±å«ä»ä¼—æ•ˆåº”ã€‚è‹±æ–‡ä¸­ bandwagonæŒ‡æ¸¸è¡Œé˜Ÿåˆ—ä¸­é¢†å¤´çš„ä¹é˜Ÿè½¦è¾†ï¼Œäººä»¬åœ¨å¤§è¡—ä¸Šçœ‹åˆ°bandwagonå°±è®¤ä¸ºä¼šæœ‰æœ‰æ„æ€çš„äº‹æƒ…è€Œæ— æ¡ä»¶åœ°è·Ÿéšã€‚ä»ä¼—æ•ˆåº”å°±æ˜¯æŒ‡è¿™ç§ä¸ç»†åŠ è€ƒ è™‘å°±è·Ÿç€åˆ«äººåšçš„æ¶ˆè´¹è¡Œä¸ºã€‚è™šè£æ•ˆåº”åˆ™æ˜¯æŒ‡ä¸ä»ä¼—æ•ˆåº”æ­£å¥½ç›¸åçš„ç°è±¡ã€‚</p>
<p>ã€€ã€€ä½†æ˜¯ï¼Œè™šè£æ•ˆåº”å¹¶ä¸æ­¢äºä¸è´­ä¹°å¤§ä¼—æ¶ˆè´¹å“ï¼Œä¹Ÿå¯ä»¥è§£é‡Šä¸ºå¯¹éå¤§ä¼—æ€§å•†å“çš„è´­ä¹°éœ€æ±‚ï¼Œç®€å•åœ°è¯´è™šè£æ•ˆåº”å°±æ˜¯å¯¹é«˜æ¡£å•†å“çš„ä¸ªæ€§è¿½æ±‚å€¾å‘ã€‚</p>
<p>ã€€ã€€è™šè£æ•ˆåº”ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§è¡¨ç°ã€‚</p>
<p>ã€€ã€€ç¬¬ä¸€ï¼Œé«˜æ¡£å•†å“åˆšä¸Šå¸‚çš„æ—¶å€™è¿…é€Ÿè´­ä¹°ã€‚è¿™æ˜¯å› ä¸ºï¼Œåœ¨è¿™ä¸€ç¬é—´å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½äº«å—åˆ°æ¶ˆè´¹é«˜æ¡£å•†å“çš„è£èª‰ã€‚</p>
<p>ã€€ã€€ç¬¬äºŒï¼Œä¸è®ºä¹‹å‰å¦‚ä½•çƒ­æƒ…èµç¾çš„å•†å“ï¼Œä¸€æ—¦å…¶å¸‚åœºå æœ‰ç‡è¾¾åˆ°ä¸€èˆ¬å¤§ä¼—éƒ½å¯ä»¥æ¶ˆè´¹çš„æ°´å¹³å°±ä¸å†ç»§ç»­è´­ä¹°ã€‚è¿™æ˜¯å› ä¸ºäººäººéƒ½èƒ½è´­ä¹°ä½¿ç”¨çš„å•†å“æ—¢ä¸ä¼šè®©äººæ„Ÿåˆ°è£èª‰ï¼Œä¹Ÿä¸ä¼šæœ‰é«˜æ¡£çš„æ„Ÿè§‰ã€‚</p>
<p>ã€€ã€€ä¸è¿‡ï¼Œè¿™æ ·çš„è™šè£æ•ˆåº”å¹¶ä¸æ˜¯åœ¨æ‰€æœ‰å•†å“ä¸Šéƒ½ä¼šå‡ºç°ã€‚</p>
<p>ã€€ã€€å•†å“è¶Šæ˜¯é«˜æ¡£ï¼Œè¶Šæ˜¯ä»¥ä¸ªäººæ¶ˆè´¹ä¸ºä¸»çš„æ—¶å€™ï¼Œè™šè£æ•ˆåº”è¶Šæ˜¯æ˜æ˜¾ã€‚å¦‚æœä¸æ˜¯ä»¥ä¸ªäººæ¶ˆè´¹ä¸ºä¸»ï¼Œè´­ä¹°å•†å“æ˜¯ä¸ºäº†å‘å¤–éƒ¨å±•ç¤ºçš„æ—¶å€™ï¼Œå³ä¾¿å…¶ä»·æ ¼é«˜æ˜‚ï¼Œä¹Ÿå¯èƒ½å‡ºç°ä»·æ ¼è¶Šé«˜éœ€æ±‚åè€Œæœ‰æ‰€å¢åŠ çš„ä»ä¼—æ•ˆåº”ã€‚</p>
<p>ã€€ã€€å¦‚æœè®¤ä¸ºå•†å“ç›®æ ‡å¸‚åœºä¸­æœ‰è¾ƒå¤§çš„å¯èƒ½æ€§å‡ºç°è™šè£æ•ˆåº”çš„è¯ï¼Œåœ¨å»ºç«‹è¥é”€è®¡åˆ’æ—¶æœ‰å¿…è¦ç•™æ„ä»¥ä¸‹ä¸‰ç‚¹ã€‚</p>
<p>ã€€ ã€€ç¬¬ä¸€ï¼Œç›¸å¯¹äºå•†å“çš„å¸‚åœºå æœ‰ç‡ï¼Œæ›´é‡è§†å…¶ç»ˆç”Ÿä»·å€¼(life time value)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¸‚åœºæˆ˜ç•¥çš„é€‰æ‹©æ–¹é¢ï¼Œç›¸è¾ƒäºæ‰©å¤§å®¢æˆ·æ•°é‡ï¼Œæ›´æ³¨é‡æŠŠç„¦ç‚¹é›†ä¸­åœ¨ç»´æŒåŸæœ‰å®¢æˆ·ä¸Šï¼Œå› ä¸ºå¦‚æœåªå…³æ³¨çœ¼å‰çš„åˆ©ç›Šè€ŒæŠŠé‡ç‚¹æ”¾åœ¨å¸‚åœºæ‰©å¼  ä¸Šè€Œå¿½è§†åŸæœ‰å®¢æˆ·çš„è¯ï¼Œæ€»æœ‰ä¸€å¤©ä¼šè¿åŸæœ‰å®¢æˆ·éƒ½ä¼šç¦»å¼€ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä»æŸä¸ªæ—¶ç‚¹å¼€å§‹ï¼Œå¸‚åœºæˆ˜ç•¥ä¸èƒ½åªåœç•™åœ¨ä¸å†æ‰©å……æ–°ç”¨æˆ·ï¼Œè¿˜è¦åšé˜²æ­¢æ–°ç”¨æˆ·æµå…¥çš„é™åˆ¶æ€§è¥ é”€(demarketing)æ‰è¡Œã€‚</p>
<p>ã€€ã€€ç¬¬äºŒï¼Œè¦ç»å¯¹å›é¿ä»·æ ¼ç«äº‰ã€‚é™ä½ä»·æ ¼ä¼šè¯±å‘ä¸¤æ–¹é¢çš„é—®é¢˜ã€‚å¯¹ä»·æ ¼æ¯”è¾ƒæ•æ„Ÿçš„ä¸€èˆ¬å¤§ä¼—ä¼šè´­ä¹°é™ä»·åçš„è¯¥å•†å“ï¼Œè€Œè¿™ä¼šé™ä½å•†å“çš„ç¨€å°‘æ€§ï¼Œå¯¼è‡´ç°æœ‰å®¢æˆ·çš„ç¦»å¼€ã€‚è€Œä¸”ï¼Œåœ¨å¸‚åœºä¸­ä»·æ ¼æœ‰æ—¶ä¼šæˆä¸ºå•†å“å“è´¨çš„ä¸€ç§æŒ‡æ ‡ï¼Œæ‰€ä»¥ä»·æ ¼çš„é™ä½å¾ˆå®¹æ˜“å¯¼è‡´å•†å“å“è´¨çš„ä¸‹é™ã€‚</p>
<p>ã€€ ã€€ç¬¬ä¸‰ï¼Œä½œä¸ºå¸‚åœºåå…¥è€…ï¼Œè¦å°½é‡é¿å…å¦‚â€æˆ‘ä¹Ÿè¦åšâ€(me too)å½¢å¼çš„å•†ä¸šæ¨è¿›ã€‚å› ä¸ºå…·æœ‰è™šè£æ•ˆåº”çš„å¸‚åœºçœ‹èµ·æ¥ä¼šæœ‰å¾ˆå¥½çš„æ”¶ç›Šç‡è€Œä¸”ç«äº‰è€…ä¹Ÿä¸å¤šï¼Œä½†æ˜¯ï¼Œæ–°çš„ç«äº‰è€…å‚ä¸å¸‚åœºçš„åŒæ—¶ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´å¸‚åœºæœ¬èº«å‘ç”Ÿå´© æºƒã€‚æ–°ç«äº‰è€…çš„å‚ä¸ä¼šå¢åŠ æ¶ˆè´¹ï¼Œä½†å› ä¸ºè™šè£æ•ˆåº”ï¼ŒåŸæ¥çš„å®¢æˆ·å¯èƒ½ä¼šé€‰æ‹©ç¦»å¼€å¸‚åœºã€‚åŸæ¥çš„å•†å®¶å› ä¸ºä¹‹å‰å·²ç»äº«å—äº†é«˜æ”¶ç›Šï¼Œæ‰€ä»¥è¿˜å¯ä»¥æ”¶å›æŠ•èµ„æˆæœ¬ï¼Œè€Œæ–°åŠ å…¥ çš„ç«äº‰è€…å°±åªèƒ½è’™å—å·¨å¤§çš„æŸå¤±ã€‚</p>
<p>ã€€ã€€æ´»è·ƒåœ¨19ä¸–çºªåæœŸå’Œ20ä¸–çºªåˆæœŸçš„ç¾å›½åˆ¶åº¦å­¦æ´¾ç»æµå­¦å®¶ç´¢å°”æ–¯å¦å‡¡å‹ƒä¼¦(Thorstein Bunde Veblen)åœ¨å…¶ç€ä½œã€Šæœ‰é—²é˜¶çº§è®ºã€‹ä¸­æŒ‡å‡ºï¼Œè™½ç„¶ä¸€èˆ¬æ¥è¯´å•†å“ä»·æ ¼çš„ä¸Šæ¶¨ä¼šå¯¼è‡´éœ€æ±‚çš„é™ä½ï¼Œä½†åœ¨æŸäº›å•†å“ä¸Šå´å­˜åœ¨ç€ä»·æ ¼ä¸Šæ¶¨åè€Œå¯¼è‡´éœ€æ±‚å¢åŠ çš„ç°è±¡ã€‚é€š å¸¸åœ¨ä»·æ ¼æ˜‚è´µçš„é«˜æ¡£å“ç‰Œä¸Šå‡ºç°çš„è¿™ç§ç°è±¡è¢«ç§°åšå‡¡å‹ƒä¼¦æ•ˆåº”(Veblen effect)ï¼Œè€Œå…·æœ‰è¿™ç§ç‰¹æ€§çš„å•†å“å°±å«åšå‡¡å‹ƒä¼¦å•†å“(Veblen goods)ã€‚</p>
<p>ã€€ã€€ç›¸åï¼Œä»·æ ¼ä¸‹é™çš„æ—¶å€™éœ€æ±‚ä¹Ÿä¸‹é™çš„å•†å“ç§°ä¸ºå‰èŠ¬å•†å“(Giffen goods)ã€‚é€šå¸¸ä»·æ ¼ä¸‹é™ä¼šå¯¼è‡´éœ€æ±‚ä¸Šå‡ï¼Œä½†æ˜¯å¦‚æœä»·æ ¼çš„ä¸‹é™å¯¼è‡´çš„æ”¶å…¥ä¸Šå‡æ•ˆæœæ›´å¤§çš„è¯ï¼Œå°±ä¼šé™ä½å¯¹è¯¥å•†å“çš„éœ€æ±‚ã€‚å®é™…ä¸Šè¿™ç§æƒ…å†µéå¸¸å°‘è§ï¼Œåªæœ‰åœ¨æ”¶ å…¥ä¸­å¯¹è¯¥å•†å“çš„æ¶ˆè´¹æ”¯å‡ºå æ•´ä½“æ”¯å‡ºæ¯”ä¾‹è¾ƒå¤§çš„æƒ…å†µä¸‹æ‰ä¼šå‡ºç°è¿™ç§ç°è±¡ã€‚</p>
<p>ã€€ã€€è½åå›½å®¶æ¨¡ä»¿å‘è¾¾å›½å®¶çš„æ¶ˆè´¹æ¨¡å¼ï¼Œæˆ–è€…ä½æ”¶å…¥è€…æ¨¡ä»¿é«˜æ”¶å…¥è€…çš„æ¶ˆ è´¹è¡Œä¸ºç°è±¡è¢«ç»æµå­¦å®¶æœæ£®ä¼¯é‡Œ(Dusenberry)ç§°ä¸ºç¤ºèŒƒæ•ˆåº”(demonstration effect)ã€‚æ¶ˆè´¹è€…çš„è¡Œä¸ºä¸å—è‡ªèº«ç»å¯¹æ”¶å…¥çš„å½±å“ï¼Œè€Œæ˜¯å–å†³äºç›¸å¯¹äºå‘¨å›´å…¶ä»–äººçš„æ”¶å…¥ï¼Œè‡ªå·±çš„æ”¶å…¥å¤„äºä»€ä¹ˆæ°´å¹³ã€‚è¿™å°±æ˜¯ç›¸å¯¹æ”¶å…¥å‡è¯´ã€‚ç¤ºèŒƒæ•ˆåº”çš„æ ¸å¿ƒ å¦‚ä¸‹ï¼šç¤¾ä¼šä¸­æœ‰ä»ä½æ¡£åˆ°é«˜æ¡£å¤šç§å•†å“çš„æ—¶å€™ï¼Œæƒ³è¦æ›´é«˜æ¡£çš„å•†å“æ˜¯äººä¹‹å¸¸æƒ…ï¼Œè€Œèƒ½å¤Ÿæ›´å¤šåœ°æ¥è§¦åˆ°æœ‰è¾ƒé«˜ç¤¾ä¼šåœ°ä½è€…çš„äººï¼Œä»–ä»¬çš„è¿™ç§éœ€æ±‚ä¼šæ›´å¤§ã€‚</p>
<p>ã€€ ã€€è´­ä¹°æŸç§å•†å“åï¼Œæ¶ˆè´¹éœ€æ±‚ä¼šå‘å’Œè¯¥å•†å“æœ‰å…³è”çš„å…¶ä»–å•†å“å»¶ä¼¸ã€‚è¿™ç§å»¶ä¼¸æ•ˆåº”å°±æ˜¯ç‹„å¾·ç½—æ•ˆåº”(Diderot effect)ã€‚ç‹„å¾·ç½—æ˜¯18ä¸–çºªæ³•å›½å¯è’™æ€æƒ³å®¶ç»„ç»‡ç™¾ç§‘å…¨ä¹¦æ´¾çš„å“²å­¦å®¶ã€‚æœ‰ä¸€å¤©ï¼Œç‹„å¾·ç½—ä¹°äº†ä¸€ä»¶æ–°çš„å®¶å±…æœï¼Œä¹‹åå°±è§‰å¾—å±‹å†…çš„å®¶å…·éƒ½æ˜¾å¾—å¾ˆæ—§ï¼Œäºæ˜¯ä¸ºäº† èƒ½è·Ÿå®¶å±…æœç›¸åŒ¹é…ä»–æ¢äº†æ–°çš„ä¹¦æ¡Œï¼Œç„¶åæ¢æ‰äº†å£æŒ‚çš„è£…é¥°å“ï¼Œæœ€ç»ˆæ¢æ‰äº†æ‰€æœ‰å®¶å…·ã€‚è¿™å°±æ˜¯ç‹„å¾·ç½—æ•ˆåº”ï¼Œç›¸ä¿¡è¿™ä¼šæ˜¯å—è£…ä¿®ä¸šè€…æ¬¢è¿çš„ä¸€ç§æ•ˆåº”ã€‚</p>
<h4 id="å¤§æ‰‹å¤§è„šçš„æµªè´¹èƒ½æ‹¯æ•‘ç»æµâ€”â€”èŠ‚çº¦æ‚–è®º"><a href="#å¤§æ‰‹å¤§è„šçš„æµªè´¹èƒ½æ‹¯æ•‘ç»æµâ€”â€”èŠ‚çº¦æ‚–è®º" class="headerlink" title="å¤§æ‰‹å¤§è„šçš„æµªè´¹èƒ½æ‹¯æ•‘ç»æµâ€”â€”èŠ‚çº¦æ‚–è®º"></a>å¤§æ‰‹å¤§è„šçš„æµªè´¹èƒ½æ‹¯æ•‘ç»æµâ€”â€”èŠ‚çº¦æ‚–è®º</h4><p>ã€€ã€€æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¦‚æœæ¶ˆè´¹è¶…è¿‡æ”¶å…¥ï¼Œå°±æ²¡æœ‰ä½™é’±å¯ä»¥å‚¨è“„ï¼Œä¹Ÿå°±æ— æ³•ç§¯ç´¯èµ„é‡‘ï¼Œæœ€ç»ˆåªèƒ½è¿‡è´«ç©·çš„ç”Ÿæ´»ã€‚æ‰€ä»¥ï¼Œä¸ºäº†æˆä¸ºå¯Œäººæˆ‘ä»¬ä¼šåŠªåŠ›å·¥ä½œï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šå˜æˆå°æ°”é¬¼ï¼Œä¸ºäº†èƒ½å‚¨è“„æ›´å¤šé’±è€ŒåŠªåŠ›ã€‚</p>
<p>ã€€ã€€è¿™ä¸ªåŸç†å¯¹äºä¸ªäººæ˜¯é€‚ç”¨çš„ï¼Œä½†æ˜¯å¯¹äºå›½å®¶æ•´ä½“ç»æµæ˜¯å¦ä¹Ÿé€‚ç”¨å‘¢?å¦‚æœæ‰€æœ‰å›½æ°‘éƒ½å˜æˆå°æ°”é¬¼ï¼Œè¿™ä¸ªå›½å®¶çœŸçš„èƒ½å¤Ÿå˜å¾—æ›´åŠ å¯Œå¼ºå—?ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå°¤å…¶æ˜¯åœ¨ç»æµä¸æ™¯æ°”çš„æ—¶å€™ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å…¶åŸå› ä½•åœ¨ã€‚</p>
<p>ã€€ ã€€ä¸€æ—¦ç»æµè¿›å…¥ä¸æ™¯æ°”ï¼ŒåŸºäºå¯¹æœªæ¥çš„æ‹…å¿§ï¼Œäººä»¬ä¼šé€‰æ‹©æ›´å¤šçš„å‚¨è“„è¿›è€Œå‡å°‘æ¶ˆè´¹ã€‚å¯æ˜¯å¦‚æœæ‰€æœ‰äººéƒ½å‡å°‘æ¶ˆè´¹çš„è¯ï¼Œä¼ä¸šçš„é”€å”®é¢å°±ä¼šé™ä½ï¼Œåº“å­˜å°±ä¼šå¢åŠ ã€‚éšä¹‹ è€Œæ¥çš„æ˜¯ä¼ä¸šåªèƒ½é™ä½ç”Ÿäº§å‡å°‘é›‡ç”¨ï¼Œè€Œä¼ä¸šå‘˜å·¥çš„æ”¶å…¥å°±ä¼šå‡å°‘ã€‚é‚£ä¹ˆï¼Œå¯¹æœªæ¥çš„æ‹…å¿§å°±ä¼šå¼ºåŒ–ï¼Œäººä»¬ä¼šæ›´åŠ åšå®šåœ°å‡å°‘æ¶ˆè´¹å¢åŠ å‚¨è“„ï¼Œäºæ˜¯æ•´ä½“ç»æµå°±ä¼šé™·å…¥æ„ˆ å‘ä¸æ™¯æ°”çš„æ¶æ€§å¾ªç¯ä¸­ã€‚</p>
<p>ã€€ã€€è¿™å°±å‡ºç°äº†ä»¥ä¸ªäººçš„è§’åº¦çœ‹å‚¨è“„æ˜¯åˆç†çš„è¡Œä¸ºï¼Œè€Œä»æ•´ä½“ç»æµä¸Šåˆæ˜¯ä¸åˆç†çš„æ‚–è®ºã€‚è¿™ç§°ä¸ºèŠ‚çº¦æ‚–è®º(paradox of thrift)ã€‚åœ¨é€»è¾‘å­¦ä¸Šå¯¹ä¸ªä½“é€‚åˆä¸¶å¯¹æ•´ä½“ä¸é€‚åˆçš„ç°è±¡å«åšåˆæˆè°¬è¯¯(fallacy of composition)ï¼ŒèŠ‚çº¦æ‚–è®ºæ­£æ˜¯å±äºè¿™ç§åˆæˆè°¬è¯¯ã€‚</p>
<p>ã€€ã€€20ä¸–çºª30å¹´ä»£ï¼Œå…¨ä¸–ç•Œé™·å…¥ä¸¥é‡ç»æµè¡°é€€çš„æ—¶å€™ï¼Œå‡ºç°äº†è¿™æ ·çš„èŠ‚çº¦æ‚–è®ºã€‚ é¢å¯¹ä¸æ™¯æ°”çš„å±€é¢ï¼Œå•†å®¶éƒ½å‡å°‘äº†æ¶ˆè´¹ï¼Œäºæ˜¯ç»æµé™·å…¥æ›´å¤§çš„ä¸æ™¯æ°”ä¸­ã€‚æ´å¯Ÿè¿™ä¸€æ‚–è®ºçŠ¶å†µçš„è‹±å›½ç»æµå­¦å®¶çº¦ç¿°æ¢…çº³å¾·å‡¯æ©æ–¯å¼€å‡ºäº†å¦‚æœå®¶åº­ä¸èƒ½æ‰©å¤§æ¶ˆè´¹çš„è¯ï¼Œæ”¿ åºœä¹Ÿåº”è¯¥æ‰¿æ‹…è´¢æ”¿èµ¤å­—ã€æ‰©å¤§æ”¿åºœæ”¯å‡ºçš„å¤„æ–¹ã€‚å› ä¸ºåªæœ‰è¿™æ ·ï¼Œæ•´ä½“ç»æµçš„éœ€æ±‚æ‰ä¼šæ‰©å¤§ï¼Œä¼ä¸šçš„é”€å”®é¢æ‰ä¼šå¢åŠ ï¼Œç”Ÿäº§å’Œé›‡ç”¨çŠ¶å†µä¹Ÿæ‰èƒ½å¤Ÿå¾—åˆ°æ”¹å–„ã€‚æœ€ç»ˆé€šè¿‡å¢ åŠ å®¶åº­æ”¶å…¥çš„æ–¹å¼æ‰©å¤§å®¶åº­çš„æ¶ˆè´¹ã€‚æ­£å› ä¸ºå‡¯æ©æ–¯é€å½»åœ°äº†è§£ä¸ªä½“å‚¨è“„å’Œæ•´ä½“å‚¨è“„ä¹‹é—´çš„åŒºåˆ«ï¼Œæ‰æœ‰å¯èƒ½æ‹¿å‡ºè¿™æ ·çš„è§£å†³æ–¹æ¡ˆã€‚å‡¯æ©æ–¯åœ¨ä»–çš„ã€Šå°±ä¸šã€åˆ©æ¯å’Œè´§å¸é€š è®ºã€‹çš„ä¹¦ä¸­å°±æŒ‡å‡ºï¼šåœ¨ç»æµä¸æ™¯æ°”çš„æ—¶å€™ï¼Œæ¶ˆè´¹å°±æ˜¯ç¾å¾·ï¼Œå‚¨è“„å°±æ˜¯æ¶è¡Œã€‚</p>
<p>ã€€ã€€ä¸è¿‡ï¼Œå‡¯æ©æ–¯å¹¶ä¸æ˜¯ç¬¬ä¸€ä¸ªè®¤è¯†åˆ°è¿™ç§çŠ¶å†µçš„äººã€‚æ¯”å‡¯æ©æ–¯è¿˜æ—© 200å¤šå¹´çš„18ä¸–çºªåˆï¼Œä¼¯çº³å¾·æ›¼å¾·ç»´å°”(Bernard Mandeville)å°±å·²ç»çœ‹ç©¿äº†è¿™ç§ç°è±¡ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å‡ºç”Ÿåœ¨è·å…°çš„åŒ»ç”Ÿå…¼è‹±å›½è‡ªç”±ä¸»ä¹‰æ€æƒ³å®¶çš„ä¼¯çº³å¾·æ›¼å¾·ç»´å°”äº1714å¹´ä¸ºäº†è®½åˆºè‹±å›½ç¤¾ä¼šè€Œå†™çš„ã€Šèœœ èœ‚çš„å¯“è¨€ã€‹(The Fable of the Bees)ä¸­çš„è®½åˆºè¯—ã€Šå—¡å—¡çš„èœ‚å·¢ã€‹(The Grumbling Hive)å§ã€‚è¿™é¦–è¯—çš„å‰¯æ ‡é¢˜ä¸ºâ€ä¸ªäººçš„æ¶è¡Œæˆ–å…¬å…±çš„åˆ©ç›Šâ€ã€‚</p>
<p>ã€€ã€€ä»å‰ï¼Œæœ‰ä¸€ä¸ªéå¸¸ç¹è£çš„èœœèœ‚ç‹å›½ã€‚å›½ç‹å’Œè´µæ—ä»¬è™½ç„¶æ¬ ä¸‹äº†å·¨å¤§çš„å€ºåŠ¡ï¼Œä½†æ˜¯ä¾ç„¶å»ºè®¾è±ªåçš„å®«æ®¿å’Œåˆ«å¢…ï¼Œç©¿ç€åä¸½çš„æœè£…ï¼Œæ¯å¤©ç”¨å±±çæµ·å‘³ä¸¾åŠå„ç§æ´¾å¯¹ã€‚</p>
<p>ã€€ã€€è¿™ä¸ªå›½å®¶ç”¨å¼ºæœ‰åŠ›çš„å†›é˜Ÿä¾µç•¥å‘¨è¾¹å›½å®¶ä»¥æ‰©å¤§è‡ªå·±çš„æ®–æ°‘åœ°ã€‚å½“å¾ˆå¤šå£«å…µåœ¨æˆ˜åœºä¸Šç‰ºç‰²çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†å°†å†›èº²åœ¨åæ–¹çš„åœ°æ´ä¸­ã€‚ä¸è¿‡æ¯æ¬¡å‡¯æ—‹çš„æ—¶å€™ä»–ä»¬æ€»æ˜¯åƒè‹±é›„ä¸€æ ·ç«™åœ¨æœ€å‰é¢ï¼Œè€Œå‹‹ç« ä¹Ÿéƒ½æ˜¯å½’ä»–ä»¬æ‰€æœ‰ã€‚</p>
<p>ã€€ã€€å„ç§è£åˆ¤çš„ç»“æœå¹¶ä¸æ˜¯å–å†³äºæ˜¯éçš„åˆ¤æ–­ï¼Œè€Œæ˜¯å–å†³äºç»™æ³•å®˜å’Œå¾‹å¸ˆçš„è´¿èµ‚ã€‚å•†å“çš„è®¢å•æ€»æ˜¯æ¥è¿ä¸æ–­ï¼Œäº§ä¸šé“¾ä»ä¸Šåˆ°ä¸‹éƒ½ä¸šåŠ¡ä¸æ–­ï¼Œæ‰€æœ‰äººéƒ½èƒ½å°½æƒ…äº«å—å¥¢åçš„ç”Ÿæ´»ã€‚</p>
<p>ã€€ ã€€æœ‰ä¸€å¤©æ¶è¡Œç››è¡Œçš„èœœèœ‚ç‹å›½é‡Œçªç„¶å‡ºç°äº†ä¸€ä½é«˜åƒ§ï¼Œè¡¨ç¤ºæ‰€æœ‰äººéƒ½åº”è¯¥æ‚”æ”¹ï¼Œå¹¶å¼€å§‹å¿µè¯µå’’è¯­ã€‚äºæ˜¯èœœèœ‚ä»¬è®¤è¯†åˆ°äº†è‡ªå·±çš„è¿‡å¤±ï¼Œå‘èª“è¦è¿‡æ¸…å»‰æ­£ç›´çš„ç”Ÿæ´»ã€‚ç‹å å’Œè´µæ—ä»¬æŠŠå®«æ®¿å’Œå¥¢åæœè£…éƒ½å–æ‰å¿è¿˜äº†å€ºåŠ¡ï¼Œå¼€å§‹äº†ä¸€å¹´åˆ°å¤´åªç©¿ä¸€ä»¶è¡£æœçš„ç®€æœ´ç”Ÿæ´»ï¼Œè§£æ•£äº†å†›é˜Ÿï¼Œå…³é—­äº†å‰§åœºã€‚å› ä¸ºæ¯ä¸ªäººéƒ½æå«æ­£ç›´çš„ç”Ÿæ´»ï¼Œæ‰€ä»¥è£åˆ¤ä¹Ÿå˜ æˆäº†æ²¡æœ‰å¿…è¦çš„äº‹æƒ…äº†ã€‚</p>
<p>ã€€ã€€äºæ˜¯ï¼Œæ´¾å¯¹å’Œæ¼”å‡ºæ¶ˆå¤±äº†ï¼Œåˆ¶ä½œè±ªåæœè£…çš„è£ç¼å’Œå¨å¸ˆä¸¶æœ¨å·¥ä¸¶çŸ³åŒ ä¸¶é›•åˆ»å¸ˆä¸¶æ¼”å‘˜ç­‰çº·çº·å¤±ä¸šã€‚èœœèœ‚ä»¬ç”šè‡³è§‰å¾—ç”Ÿæ´»åœ¨å»ºç­‘é‡Œä¹Ÿæ˜¯ä¸€ç§å¥¢ä¾ˆï¼Œéƒ½æ¬åˆ°æ ‘æ´ä¸­å±…ä½ã€‚</p>
<p>ã€€ã€€åæ¥ï¼ŒåŸæ®–æ°‘åœ°çš„å¼‚é‚¦èœœèœ‚ä»¬å¤§ä¸¾è¿›æ”»èœœèœ‚ç‹å›½ï¼Œå°†æ‰€æœ‰å–„è‰¯çš„èœœèœ‚éƒ½æŠ“å»å½“äº†å¥´éš¶ï¼Œä»æ­¤å–„è‰¯èœœèœ‚ä»¬å°±åªèƒ½æ¯å¤©è¿‡ç€æˆ˜æˆ˜å…¢å…¢çš„æ‚²æƒ¨ç”Ÿæ´»ã€‚</p>
<p>ã€€ ã€€æ›¼å¾·ç»´å°”æƒ³é€šè¿‡è¿™ä¸ªæ•…äº‹ä¼ è¾¾ä»€ä¹ˆæ ·çš„ä¿¡æ¯å‘¢?ä»–ä¸»å¼ å•çº¯é å…·å¤‡å¥½çš„å¾·è¡Œæ˜¯æ— æ³•è®©å›½æ°‘è¿‡ä¸Šå¥½ç”Ÿæ´»çš„ï¼Œå¹¶ä¸”è®¤ä¸ºé€šè¿‡èŠ‚çº¦å’Œå‚¨è“„ï¼Œä¸ªäººè™½ç„¶å¯ä»¥å¢åŠ è´¢å¯Œï¼Œä½†åœ¨ å›½å®¶å±‚é¢ä¸Šè¿™ä¸ªé€»è¾‘æ˜¯å®Œå…¨è¡Œä¸é€šçš„ã€‚ä»–ä»¥ç¦æ¬²å’Œåˆ©ä»–å¿ƒæ˜¯ä¼ªå–„çš„ï¼Œæ™®éè®¤ä¸ºæ˜¯æ¶è¡Œçš„æ¬²æœ›æ­£æ˜¯ç»æµå‘å±•çš„åŸåŠ¨åŠ›è¿™æ ·çš„è§‚ç‚¹æ­£é¢æŒ‘æˆ˜äº†åŸºç£æ•™çš„ä¼¦ç†è§‚ã€‚è°´è´£ä»–çš„ äººå› ä¸ºä»–å…¬å¼€æ‹¥æŠ¤æ¶è¡Œè€Œç”¨è°éŸ³ç§°ä»–ä¸ºäººé—´æ¶é­”(Man-Devil)ã€‚</p>
<p>ã€€ã€€200å¹´åçš„å‡¯æ©æ–¯éå¸¸å–œæ¬¢æ›¼å¾·ç»´å°”çš„è¿™é¦–è¯—ï¼Œä¸ºäº†å¼ºè°ƒ20ä¸–çºª30å¹´ä»£çš„ç»æµè¡°é€€çš„åŸå› æ˜¯æœ‰æ•ˆéœ€æ±‚çš„ä¸è¶³ï¼Œå‡¯æ©æ–¯åœ¨å…¶ä»£è¡¨ä½œã€Šå°±ä¸šä¸¶åˆ©æ¯å’Œè´§å¸é€šè®ºã€‹ä¸­å¼•ç”¨äº†æ›¼å¾·ç»´å°”çš„ã€Šèœœèœ‚çš„å¯“è¨€ã€‹ã€‚</p>
<p>ã€€ã€€1666å¹´ï¼Œä¼¦æ•¦å‘ç”Ÿå¤§ç«ç¾ï¼Œæ•´ä¸ªè‹±å›½é™·å…¥å±æœºã€‚ä½†æ˜¯æ›¼å¾·ç»´å°”æ›¾ä¹è§‚åœ°è¡¨ç¤ºï¼Œè™½ç„¶ä¼¦æ•¦å¤§ç«ç¾æ˜¯å·¨å¤§çš„ç¾éš¾ï¼Œä½†æ˜¯åœ¨é‡å»ºä¼¦æ•¦çš„è¿‡ç¨‹ä¸­æ‰©å¤§çš„æœ‰æ•ˆéœ€æ±‚ä¼šæ¿€æ´»è‹±å›½ç»æµã€‚</p>
<p>ã€€ã€€ç°åœ¨ï¼Œç”µè§†å’ŒæŠ¥çº¸ä¸­è¿˜ä¼šç»å¸¸æŠ¥é“ç»æµä¸æ™¯æ°”ä¸­è€ç™¾å§“ç¼©è¡£èŠ‚é£Ÿï¼Œè€Œå¯Œäººä»¬å¤§è‚†è´­ä¹°æ˜‚è´µçš„åç‰Œè´§ï¼Œè¿‡ç€å¥¢åç”Ÿæ´»çš„ç°çŠ¶ï¼ŒæŒ‡è´£å¯Œäººä»¬çš„æ¶ˆè´¹è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œä»èŠ‚çº¦æ‚–è®ºä¸Šçœ‹ï¼Œå¯Œäººä»¬çš„è¿™ç§æ¶ˆè´¹èƒ½å¤Ÿå¢åŠ æ•´ä½“éœ€æ±‚ï¼Œåè€Œæ˜¯åœ¨å¸®åŠ©ç»æµå°½å¿«æ¢å¤ã€‚</p>
<p>ã€€ã€€å¦‚æœå•†å®¶ä¸èƒ½æ‰©å¤§æ¶ˆè´¹çš„è¯ï¼Œæ”¿åºœä¹Ÿåº”è¯¥å‡ºé¢æ‰©å¤§æ”¿åºœæ”¯å‡ºï¼Œä¸ºä¼ä¸šæä¾›æŠ•èµ„ä¼˜æƒ æ¡ä»¶ï¼Œè€Œä¸”è¦åŠªåŠ›å¸å¼•å¤–å›½æŠ•èµ„è€…å’Œè§‚å…‰å®¢ï¼Œå¢åŠ æŠ•èµ„å’Œæ¶ˆè´¹ã€‚åªæœ‰è¿™æ ·æ‰èƒ½å½¢æˆè‰¯æ€§å¾ªç¯æœ€ç»ˆè®©ç»æµæ™¯æ°”èµ·æ¥ã€‚</p>
<h4 id="å…è´¹æœªå¿…å°±å¥½â€”â€”å…è´¹ç»æµå­¦"><a href="#å…è´¹æœªå¿…å°±å¥½â€”â€”å…è´¹ç»æµå­¦" class="headerlink" title="å…è´¹æœªå¿…å°±å¥½â€”â€”å…è´¹ç»æµå­¦"></a>å…è´¹æœªå¿…å°±å¥½â€”â€”å…è´¹ç»æµå­¦</h4><p>ã€€ã€€â€œä¸–ä¸Šæ²¡æœ‰å…è´¹çš„åˆé¤â€æ˜¯1976å¹´è·å¾—è¯ºè´å°”ç»æµå­¦å¥–çš„ç€åç»æµå­¦å®¶ç±³å°”é¡¿å¼—é‡Œå¾·æ›¼(Milton Friedman)å¸¸è¯´çš„ä¸€å¥è¯ã€‚</p>
<p>ã€€ã€€æœ‰çš„ä¿¡æ¯ç²—çœ‹ä¹‹ä¸‹ä¼¼ä¹æ˜¯å…è´¹çš„ï¼Œå®é™…ä¸Šç»è¿‡äº†è§£åå‘ç°å¹¶ä¸æ˜¯å…è´¹çš„æ„æ€;æˆ–è€…å¯ä»¥è§£é‡Šä¸ºå…è´¹åé¢éšè—ç€æŸç§è¯±é¥µï¼Œè¿˜å¯ä»¥ç†è§£ä¸ºä¸è¦æœŸå¾…ä¸ä»˜å‡ºä»£ä»·çš„å…è´¹ä¸œè¥¿ã€‚å°±åƒâ€å…è´¹çš„å¥¶é…ªåªå­˜åœ¨äºæ•é¼ å™¨ä¸Šâ€çš„ä¿„ç½—æ–¯è°šè¯­ä¸€æ ·ï¼Œå¯¹å…è´¹çš„ä¸œè¥¿ä¿æŒè­¦æƒ•æ˜¯äº˜å¤ä¸å˜çš„é“ç†ã€‚</p>
<p>ã€€ã€€ä¸è¿‡ï¼Œæœ‰çœŸæ­£å…è´¹çš„ä¸»å¼ é€æ¸å äº†ä¸Šé£ã€‚å°±åƒåŠ£å¸é©±é€è‰¯å¸ä¸€æ ·ï¼Œå…è´¹é©±é€æ”¶è´¹çš„è¶‹åŠ¿å¾—åˆ°äº†å¼ºåŒ–ã€‚è‹±å›½çš„ã€Šç»æµå­¦äººã€‹å±•æœ›2008å¹´çš„æ—¶å€™æŠŠè¿™æ ·çš„è¶‹åŠ¿å‘½åä¸ºå…è´¹ç»æµå­¦(freeconomics)ï¼Œå°†å•è¯å…è´¹(free)å’Œç»æµå­¦(economics)åˆèµ·æ¥å½¢æˆæ–°è¯ã€‚</p>
<p>ã€€ ã€€2007å¹´å”±ç‰‡ä¸šå‘ç”Ÿäº†ä¸€ä¸ªå¤§äº‹ä»¶ã€‚äººæ°”æ­Œæ‰‹æ™®æ—æ–¯(Prince)é€šè¿‡è‹±å›½ã€Šæ˜ŸæœŸæ—¥é‚®æŠ¥ã€‹å…è´¹æ´¾é€æ–°ä¸“è¾‘Planet Earthçš„CDï¼Œæ•°é‡è¾¾åˆ°äº†300ä¸‡å¼ ã€‚å¬äº†å”±ç‰‡çš„äººå»æ¼”å”±ä¼šçš„æ¦‚ç‡ä¼šæ›´é«˜ä¸€äº›ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰ä¸€å®šå¦‚æ­¤çš„ä¿éšœã€‚å½“ç„¶ï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸ºé¢„æ–™åˆ°å³ä¾¿ä¸å…è´¹æ´¾é€äºº ä»¬ä¹Ÿä¼šè¿›è¡Œéæ³•å¤åˆ¶å’Œä¼ æ’­ï¼Œæ‰€ä»¥æ‰å…è´¹æ´¾é€ã€‚æ€»ä¹‹ï¼Œè¿™çœŸæ˜¯ä¸€ä¸ªä»¤äººéœ‡æƒŠçš„åšæ³•ã€‚</p>
<p>ã€€ã€€éŸ©å›½ä¹Ÿæœ‰è¿‡ç±»ä¼¼çš„æƒ…å†µã€‚2007å¹´LGç”µå­å‡ºå“äº†å…·å¤‡MP3å¼ºåŒ–åŠŸèƒ½çš„é«˜æ¡£éŸ³ä¹æ‰‹æœºã€‚ä¸–ç•Œçº§çš„éŸ³è´¨ä¸“å®¶é©¬å…‹ææ–‡æ£®ä¸ºæ‰‹æœºå®‰è£…äº†å¯ä»¥ä¿è¯éŸ³å“æ•ˆæœå¹¶ä¸”ç”¨æ‰‹æŒ‡å¯ä»¥çµæ´»æ§åˆ¶çš„æ“æ§é”®ï¼Œåˆ©ç”¨é«˜çº§å¬ç­’ä¿è¯äº†MP3åŠŸèƒ½ã€‚è¿™ä¸ªæ‰‹æœºä¸­æ­è½½äº†æˆè¯—äº¬ä¸¶å­™æ˜Šæ°¸ç­‰7åé¡¶å°–æ­Œæ‰‹çš„å”±ç‰‡ã€‚</p>
<p>ã€€ã€€åœ¨æ‰‹æœºå…¬å¸é‡‡ç”¨è¿™æ ·çš„å…è´¹æˆ˜ç•¥ä¹‹å‰ï¼Œè°·æ­Œå¾ˆæ—©å°±æä¾›äº†å¤§ç©ºé—´çš„å…è´¹é‚®ç®±æœåŠ¡GMAIL,UCCç½‘ç«™youtubeä¹Ÿæä¾›äº†å¤§å®¹é‡çš„å…è´¹è§†é¢‘ç©ºé—´ï¼Œç½‘ç»œç”µè¯æœåŠ¡å•†Skypeä¹Ÿç»™æ¶ˆè´¹è€…æä¾›äº†å…è´¹çš„é•¿é€”ç”µè¯ä¸¶å›½é™…é•¿é€”ä¸šåŠ¡ã€‚</p>
<p>ã€€ ã€€ä»å¾ˆæ—©å¼€å§‹ï¼Œé…’å§é‡Œå°±å…è´¹æä¾›ä¸‹é…’å°èœï¼Œä¸ºä»€ä¹ˆè¿™ç§ç­–ç•¥ä¼šå¥æ•ˆå‘¢?è¿™æ˜¯å› ä¸ºåœ¨æä¾›äº†èŠ±ç”Ÿç­‰ä¸‹é…’å°èœçš„æ—¶å€™ï¼Œäººä»¬å–é…’çš„æ¦‚ç‡ä¼šå˜å¤§ã€‚æ›´è¿›ä¸€æ­¥çš„ï¼Œç¾å›½çš„é…’ å§é‡Œæ¸…æ°´ä¹Ÿæ˜¯æ”¶è´¹çš„ï¼Œç†ç”±å¾ˆç®€å•ï¼Œæ°´å–å¤šäº†å–é…’çš„æ¦‚ç‡å°±ä¼šé™ä½ã€‚ç®€å•è¯´ä¸‹é…’å°èœå’Œé…’æ˜¯è¾…åŠ©å…³ç³»ï¼Œè€Œæ¸…æ°´å’Œé…’åˆ™æ˜¯ç«äº‰å…³ç³»ã€‚é…’å§ä¸»äººä»¬é€šè¿‡è¿‡å»ä¸°å¯Œçš„ç»éªŒï¼Œ ä¸€ç›´é‡‡ç”¨è¿™æ ·çš„é”€å”®ç­–ç•¥ã€‚</p>
<p>ã€€ã€€çœ‹çœ‹æˆ‘ä»¬å‘¨å›´ï¼Œå°±èƒ½å‘ç°å¾ˆå¤šå…è´¹è¥é”€ï¼Œåœ°é“ç«™å‰çš„å…è´¹æŠ¥çº¸å°±æ˜¯å…¶ä¸­ä¸€ç§ã€‚æ›¾ç»å¨èƒåˆ°æ—¥æŠ¥å’Œä½“è‚²æŠ¥çº¸çš„å…è´¹æŠ¥çº¸ å› ä¸ºæœ‰å¾ˆå¤šè¯»è€…ï¼Œæ‰€ä»¥å¯ä»¥ä»å¹¿å‘Šæ”¶å…¥ä¸Šè·å¾—é«˜æ”¶ç›Šã€‚äººæ°”å·®çš„å…è´¹æŠ¥çº¸ä¼šå› ä¸ºå¾—ä¸åˆ°è¶³å¤Ÿçš„å¹¿å‘Šæ”¶å…¥è€Œè¢«æ·˜æ±°ï¼Œè¿™æ ·çš„è¯ï¼Œå¹¸å­˜ä¸‹æ¥çš„å…è´¹æŠ¥çº¸å°±å¯ä»¥é€æ­¥å æ®æ›´ åŠ æœ‰åˆ©çš„ä½ç½®ã€‚è¶Šæ˜¯èµ„é‡‘å®åŠ›é›„åšçš„å…¬å¸ï¼Œåœ¨è¿™ç§å…è´¹ç«äº‰ä¸­èƒ½å¤Ÿç”Ÿå­˜ä¸‹æ¥çš„æ¦‚ç‡å°±è¶Šå¤§ã€‚å› æ­¤ï¼Œæ¶ˆè´¹è€…ä¹Ÿå¯èƒ½ä¼šé¢ä¸´å› ä¸ºå„æ–­æ‹›è‡´çš„æŸå¤±ã€‚</p>
<p>ã€€ã€€å…è´¹ç»æµå¸‚åœºçš„å¦ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¯¹èµ„æºçš„æµªè´¹ã€‚ä»¥å…è´¹æŠ¥çº¸ä¸ºä¾‹ï¼Œå› ä¸ºå…è´¹æ´¾å‘ç»™æ¶ˆè´¹è€…ï¼Œæ‰€ä»¥æ–°é—»çº¸ä¼šè¢«å¤§é‡æµªè´¹æ‰ã€‚å¤§é‡ç”Ÿäº§å¤§é‡æ¶ˆè´¹çš„ä½“åˆ¶ä¼šå¯¼è‡´èƒ½æºçš„è¿‡åº¦ä½¿ç”¨è€Œæ‹›è‡´åœ°çƒå˜æš–åŠ¿å¤´çš„åŠ é€Ÿã€‚</p>
<p>ã€€ ã€€ä¼ä¸šç»è¥ä¸“å®¶ä¸­ï¼Œå‡ ä¹æ²¡æœ‰äººä¸çŸ¥é“æ±¤å§†å½¼å¾—æ–¯(Tom Peters)çš„ï¼Œä»–ä¹‹æ‰€ä»¥å¦‚æ­¤æœ‰åæ˜¯å› ä¸ºä»–äº1982å¹´å’Œç½—ä¼¯ç‰¹æ²ƒç‰¹æ›¼åˆç€å‡ºç‰ˆäº†ã€Šè¿½æ±‚å“è¶Šã€‹ä¸€ä¹¦ã€‚æœ‰æ„æ€çš„æ˜¯è¿™æœ¬ä¹¦å‡ºç‰ˆä¹‹å‰ï¼Œä»–ä»¬åˆ¶ä½œäº†1.5ä¸‡éƒ¨çš„ è¯•è¯»ç‰ˆå…è´¹æ´¾å‘ç»™å¯¹æ­¤ä¹¦æœ‰å…´è¶£çš„è¯»è€…ã€‚å½“ç„¶ï¼Œè¿™ä»¤å‡ºç‰ˆç¤¾å¤§åƒä¸€æƒŠï¼Œå› ä¸ºå®ƒä»¬è®¤ä¸ºè¿™æœ¬ä¹¦æœ¬æ¥é”€é‡å°±ä¸ä¼šå¾ˆå¤§ï¼Œè¿˜å…è´¹æ´¾å‘è¿™ä¹ˆå¤šè¯•è¯»ç‰ˆã€‚ä¸è¿‡ï¼Œè¿™æœ¬ä¹¦èƒ½å¤Ÿæˆä¸º è¶…çº§ç•…é”€ä¹¦ä¹Ÿæ­£æ˜¯è¿™ä¸ªå…è´¹è¯•è¯»ç‰ˆçš„åŠŸåŠ³ã€‚é˜…è¯»äº†è¯•è¯»ç‰ˆåæ„Ÿå—è‰¯å¤šçš„è¯»è€…åœ¨æ­¤ä¹¦æ­£å¼å‡ºç‰ˆä¹‹åèœ‚æ‹¥è´­ä¹°ï¼Œå¯¼è‡´æ­¤ä¹¦é”€é‡æ¿€å¢ã€‚æ‰˜å…è´¹æ´¾å‘ç­–ç•¥çš„ç¦ï¼Œæ±¤å§†å½¼å¾—æ–¯æˆ äº†è¶…çº§ç•…é”€ä¹¦ä½œè€…ä¸¶é¡¶çº§æ¼”è®²å®¶å’Œé¡¶çº§å’¨è¯¢ä¸“å®¶ã€‚</p>
<p>ã€€ã€€éŸ©å›½çš„å…¬åŠ¡å‘˜å’Œä¼ä¸šå®¶æ€»æ˜¯å› ä¸ºè…è´¥é—®é¢˜å—åˆ°æŒ‡è´£ï¼Œæ‰€ä»¥ä»¥å¾€å¾ˆæ™®éçš„è¯·å®¢åƒé¥­ ç­‰ç°è±¡ç°åœ¨å¤§å¤šè¢«ç¦æ­¢äº†ã€‚å› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„è¯·å®¢åƒé¥­éƒ½æ˜¯æœ‰æ‰€æ±‚çš„ã€‚å› å³æ—¶è´´å’Œé€æ˜èƒ¶å¸¦è€Œç€åçš„3Må…¬å¸çš„é“å¾·ç»è¥å°±éå¸¸å½»åº•ï¼Œè¯¥å…¬å¸ä¼ä¸šé“å¾·è§„ å®šæ¡ä¾‹åœ¨ç¤¼å“èµ é€çš„é¡¹ç›®ä¸‹é¢æœ‰è¿™æ ·ä¸€æ¡ï¼šâ€ç»™ä¸šåŠ¡ç›¸å…³æ–¹æä¾›çš„ç¤¼å“æ¯å¹´ä¸èƒ½è¶…è¿‡50ç¾å…ƒï¼Œå’–å•¡å’Œå¤šçº³åœˆé™¤å¤–ã€‚â€æ‰€ä»¥ï¼Œä¸ç”¨å› å…è´¹çš„å’–å•¡å’Œå¤šçº³åœˆè€Œäº§ç”Ÿç½ªæ¶ æ„Ÿã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—å‡ºè¿™æ ·çš„ç»“è®ºï¼šâ€æ²¡æœ‰å…è´¹çš„åˆé¤ï¼Œä½†æ˜¯æœ‰å…è´¹çš„å’–å•¡ã€‚â€</p>
<p>ã€€ã€€                                                                              ï¼ˆæ¥æºï¼šã€Šæœ€å¥½ç”¨çš„101ä¸ªç»æµæ³•åˆ™ã€‹æ–‡/é‡‘æ•å‘¨ ç¿»è¯‘/æƒæˆå…‰ï¼‰</p>
]]></content>
      <categories>
        <category>ç»æµå­¦</category>
      </categories>
      <tags>
        <tag>ç»æµå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSåº•å±‚åŸç†æ€»ç»“ - æ¢å¯»OCå¯¹è±¡çš„æœ¬è´¨</title>
    <url>/2018/07/17/iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20%E6%8E%A2%E5%AF%BBOC%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9C%AC%E8%B4%A8/</url>
    <content><![CDATA[<p>è½¬è½½è‡ªï¼š<a href="https://www.jianshu.com/p/91a9176851cd" target="_blank" rel="noopener">iOSåº•å±‚åŸç†æ€»ç»“</a></p>
<p>å¯¹å°ç å“¥åº•å±‚ç­è§†é¢‘å­¦ä¹ çš„æ€»ç»“ä¸è®°å½•ã€‚é¢è¯•é¢˜éƒ¨åˆ†ï¼Œé€šè¿‡å¯¹é¢è¯•é¢˜çš„åˆ†ææ¢ç´¢é—®é¢˜çš„æœ¬è´¨å†…å®¹ã€‚</p>
<blockquote>
<p>é¢è¯•é¢˜ï¼šä¸€ä¸ªNSObjectå¯¹è±¡å ç”¨å¤šå°‘å†…å­˜ï¼Ÿ</p>
</blockquote>
<p>æ¢å¯»OCå¯¹è±¡çš„æœ¬è´¨ï¼Œæˆ‘ä»¬å¹³æ—¶ç¼–å†™çš„Objective-Cä»£ç ï¼Œåº•å±‚å®ç°å…¶å®éƒ½æ˜¯C\C++ä»£ç ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1434508-7c3e4ae59cb80fc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp" alt="img"></p>
<p>OCçš„å¯¹è±¡ç»“æ„éƒ½æ˜¯é€šè¿‡åŸºç¡€C\C++çš„ç»“æ„ä½“å®ç°çš„ã€‚<br>æˆ‘ä»¬é€šè¿‡åˆ›å»ºOCæ–‡ä»¶åŠå¯¹è±¡ï¼Œå¹¶å°†OCæ–‡ä»¶è½¬åŒ–ä¸ºC++æ–‡ä»¶æ¥æ¢å¯»OCå¯¹è±¡çš„æœ¬è´¨</p>
<p>OCå¦‚ä¸‹ä»£ç </p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">NSObject</span> *objc = [[<span class="built_in">NSObject</span> alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Hello, World!"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡å‘½ä»¤è¡Œå°†OCçš„mian.mæ–‡ä»¶è½¬åŒ–ä¸ºc++æ–‡ä»¶ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">clang -rewrite-objc main.m -o main.cpp <span class="comment">// è¿™ç§æ–¹å¼æ²¡æœ‰æŒ‡å®šæ¶æ„ä¾‹å¦‚arm64æ¶æ„ å…¶ä¸­cppä»£è¡¨ï¼ˆc plus plusï¼‰</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">ç”Ÿæˆ main.cpp</span></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æŒ‡å®šæ¶æ„æ¨¡å¼çš„å‘½ä»¤è¡Œï¼Œä½¿ç”¨xcodeå·¥å…· xcrun</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">xcrun</span> <span class="selector-tag">-sdk</span> <span class="selector-tag">iphoneos</span> <span class="selector-tag">clang</span> <span class="selector-tag">-arch</span> <span class="selector-tag">arm64</span> <span class="selector-tag">-rewrite-objc</span> <span class="selector-tag">main</span><span class="selector-class">.m</span> <span class="selector-tag">-o</span> <span class="selector-tag">main-arm64</span><span class="selector-class">.cpp</span> </span></pre></td></tr><tr><td class="code"><pre><span class="line">ç”Ÿæˆ <span class="selector-tag">main-arm64</span><span class="selector-class">.cpp</span></span></pre></td></tr></table></figure>

<p>main-arm64.cpp æ–‡ä»¶ä¸­æœç´¢NSObjcetï¼Œå¯ä»¥æ‰¾åˆ°NSObjcet_IMPLï¼ˆIMPLä»£è¡¨ implementation å®ç°ï¼‰</p>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹NSObject_IMPLå†…éƒ¨</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NSObject_IMPL</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class isa;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥çœ‹Classæœ¬è´¨</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> *<span class="title">Class</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//æˆ‘ä»¬å‘ç°Classå…¶å®å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¯¹è±¡åº•å±‚å®ç°å…¶å®å°±æ˜¯è¿™ä¸ªæ ·å­ã€‚</span></span></pre></td></tr></table></figure>

<p>æ€è€ƒï¼š ä¸€ä¸ªOCå¯¹è±¡åœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•å¸ƒå±€çš„ã€‚<br> NSObjcetçš„åº•å±‚å®ç°ï¼Œç‚¹å‡»NSObjcetè¿›å…¥å‘ç°NSObjectçš„å†…éƒ¨å®ç°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">@interface NSObject &lt;NSObject&gt; &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> clang diagnostic push</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> clang diagnostic ignored <span class="meta-string">"-Wobjc-interface-ivars"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class isa  OBJC_ISA_AVAILABILITY;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> clang diagnostic pop</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">@end</span></pre></td></tr></table></figure>

<p>è½¬åŒ–ä¸ºcè¯­è¨€å…¶å®å°±æ˜¯ä¸€ä¸ªç»“æ„ä½“</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NSObject_IMPL</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class isa;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>

<blockquote>
<p>é‚£ä¹ˆè¿™ä¸ªç»“æ„ä½“å å¤šå¤§çš„å†…å­˜ç©ºé—´å‘¢ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªç»“æ„ä½“åªæœ‰ä¸€ä¸ªæˆå‘˜ï¼ŒisaæŒ‡é’ˆï¼Œè€ŒæŒ‡é’ˆåœ¨64ä½æ¶æ„ä¸­å 8ä¸ªå­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªNSObjecå¯¹è±¡æ‰€å ç”¨çš„å†…å­˜æ˜¯8ä¸ªå­—èŠ‚ã€‚åˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»å¯ä»¥åŸºæœ¬è§£ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°NSObjectå¯¹è±¡ä¸­è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œé‚£è¿™äº›æ–¹æ³•ä¸å ç”¨å†…å­˜ç©ºé—´å—ï¼Ÿå…¶å®ç±»çš„æ–¹æ³•ç­‰ä¹Ÿå ç”¨å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•æ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´å¹¶ä¸åœ¨NSObjectå¯¹è±¡ä¸­ã€‚</p>
</blockquote>
<p>ä¸ºäº†æ¢å¯»OCå¯¹è±¡åœ¨å†…å­˜ä¸­å¦‚ä½•ä½“ç°ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹é¢ä¸€æ®µä»£ç </p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="built_in">NSObject</span> *objc = [[<span class="built_in">NSObject</span> alloc] init];</span></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¸€æ®µä»£ç åœ¨å†…å­˜ä¸­å¦‚ä½•ä½“ç°çš„å‘¢ï¼Ÿ</p>
<p>ä¸Šè¿°ä¸€æ®µä»£ç ä¸­ç³»ç»Ÿä¸ºNSObjectå¯¹è±¡åˆ†é…8ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œç”¨æ¥å­˜æ”¾ä¸€ä¸ªæˆå‘˜isaæŒ‡é’ˆã€‚</p>
<p>é‚£ä¹ˆisaæŒ‡é’ˆè¿™ä¸ªå˜é‡çš„åœ°å€å°±æ˜¯ç»“æ„ä½“çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯NSObjcetå¯¹è±¡çš„åœ°å€ã€‚<br> å‡è®¾isaçš„åœ°å€ä¸º0x100400110ï¼Œé‚£ä¹ˆä¸Šè¿°ä»£ç åˆ†é…å­˜å‚¨ç©ºé—´ç»™NSObjectå¯¹è±¡ï¼Œç„¶åå°†å­˜å‚¨ç©ºé—´çš„åœ°å€èµ‹å€¼ç»™objcæŒ‡é’ˆã€‚</p>
<p>objcå­˜å‚¨çš„å°±æ˜¯isaçš„åœ°å€</p>
<p>objcæŒ‡å‘å†…å­˜ä¸­NSObjectå¯¹è±¡åœ°å€ï¼Œå³æŒ‡å‘å†…å­˜ä¸­çš„ç»“æ„ä½“ï¼Œä¹Ÿå°±æ˜¯isaçš„ä½ç½®ã€‚</p>
<h3 id="è‡ªå®šä¹‰ç±»çš„å†…éƒ¨å®ç°"><a href="#è‡ªå®šä¹‰ç±»çš„å†…éƒ¨å®ç°" class="headerlink" title="è‡ªå®šä¹‰ç±»çš„å†…éƒ¨å®ç°"></a>è‡ªå®šä¹‰ç±»çš„å†…éƒ¨å®ç°</h3><figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Student</span> : <span class="title">NSObject</span></span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@public</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Student</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">        Student *stu = [[Student alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        stu -&gt; _no = <span class="number">4</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        stu -&gt; _age = <span class="number">5</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        </span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,stu);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr></table></figure>

<p>æŒ‰ç…§ä¸Šè¿°æ­¥éª¤åŒæ ·ç”Ÿæˆc++æ–‡ä»¶ã€‚å¹¶æŸ¥æ‰¾Studentï¼Œæˆ‘ä»¬å‘ç°Student_IMPL</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student_IMPL</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">NSObject_IMPL</span> <span class="title">NSObject_IVARS</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>

<p>å‘ç°ç¬¬ä¸€ä¸ªæ˜¯ NSObject_IMPLçš„å®ç°ã€‚è€Œé€šè¿‡ä¸Šé¢çš„å®éªŒæˆ‘ä»¬çŸ¥é“NSObject_IMPLå†…éƒ¨å…¶å®å°±æ˜¯Class isa<br> é‚£ä¹ˆæˆ‘ä»¬å‡è®¾ struct NSObject_IMPL NSObject_IVARS; ç­‰ä»·äº Class isa;</p>
<p>å¯ä»¥å°†ä¸Šè¿°ä»£ç è½¬åŒ–ä¸º</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student_IMPL</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class *isa;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>

<p>å› æ­¤æ­¤ç»“æ„ä½“å ç”¨å¤šå°‘å­˜å‚¨ç©ºé—´ï¼Œå¯¹è±¡å°±å ç”¨å¤šå°‘å­˜å‚¨ç©ºé—´ã€‚å› æ­¤ç»“æ„ä½“å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸ºï¼ŒisaæŒ‡é’ˆ8ä¸ªå­—èŠ‚ç©ºé—´+intç±»å‹_no4ä¸ªå­—èŠ‚ç©ºé—´+intç±»å‹_age4ä¸ªå­—èŠ‚ç©ºé—´å…±16ä¸ªå­—èŠ‚ç©ºé—´</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">Student *stu = [[Student alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">stu -&gt; _no = <span class="number">4</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">stu -&gt; _age = <span class="number">5</span>;</span></pre></td></tr></table></figure>

<p>é‚£ä¹ˆä¸Šè¿°ä»£ç å®é™…ä¸Šåœ¨å†…å­˜ä¸­çš„ä½“ç°ä¸ºï¼Œåˆ›å»ºStudentå¯¹è±¡é¦–å…ˆä¼šåˆ†é…16ä¸ªå­—èŠ‚ï¼Œå­˜å‚¨3ä¸ªä¸œè¥¿ï¼ŒisaæŒ‡é’ˆ8ä¸ªå­—èŠ‚ï¼Œ4ä¸ªå­—èŠ‚çš„_no ,4ä¸ªå­—èŠ‚çš„_age</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/18569867-7779e69767c0143c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p>
<p>image.png</p>
<p>sutdentå¯¹è±¡çš„3ä¸ªå˜é‡åˆ†åˆ«æœ‰è‡ªå·±çš„åœ°å€ã€‚è€ŒstuæŒ‡å‘isaæŒ‡é’ˆçš„åœ°å€ã€‚å› æ­¤stuçš„åœ°å€ä¸º0x100400110ï¼Œstuå¯¹è±¡åœ¨å†…å­˜ä¸­å ç”¨16ä¸ªå­—èŠ‚çš„ç©ºé—´ã€‚å¹¶ä¸”ç»è¿‡èµ‹å€¼ï¼Œ_noé‡Œé¢å­˜å‚¨4 ï¼Œ_ageé‡Œé¢å­˜å‚¨5</p>
<p>éªŒè¯Studentåœ¨å†…å­˜ä¸­æ¨¡æ ·</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> Student_IMPL &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class isa;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Student</span> : <span class="title">NSObject</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@public</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Student</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="comment">// å¼ºåˆ¶è½¬åŒ–</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="keyword">struct</span> Student_IMPL *stuImpl = (__bridge <span class="keyword">struct</span> Student_IMPL *)stu;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"_no = %d, _age = %d"</span>, stuImpl-&gt;_no, stuImpl-&gt;_age); <span class="comment">// æ‰“å°å‡º _no = 4, _age = 5</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç å°†ocå¯¹è±¡å¼ºè½¬æˆStudent_IMPLçš„ç»“æ„ä½“ã€‚ä¹Ÿå°±æ˜¯è¯´æŠŠä¸€ä¸ªæŒ‡å‘ocå¯¹è±¡çš„æŒ‡é’ˆï¼ŒæŒ‡å‘è¿™ç§ç»“æ„ä½“ã€‚ç”±äºæˆ‘ä»¬ä¹‹å‰çŒœæƒ³ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ä¸ç»“æ„ä½“åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ç›¸åŒï¼Œé‚£ä¹ˆå¦‚æœå¯ä»¥è½¬åŒ–æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬çš„çŒœæƒ³æ­£ç¡®ã€‚ç”±æ­¤è¯´æ˜stuè¿™ä¸ªå¯¹è±¡æŒ‡å‘çš„å†…å­˜ç¡®å®æ˜¯ä¸€ä¸ªç»“æ„ä½“ã€‚</p>
<p>å®é™…ä¸Šæƒ³è¦è·å–å¯¹è±¡å ç”¨å†…å­˜çš„å¤§å°ï¼Œå¯ä»¥é€šè¿‡æ›´ä¾¿æ·çš„è¿è¡Œæ—¶æ–¹æ³•æ¥è·å–ã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">class_getInstanceSize([Student <span class="class"><span class="keyword">class</span>])</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">NSLog(@<span class="string">"%zd,%zd"</span>, class_getInstanceSize([NSObject <span class="class"><span class="keyword">class</span>]) ,<span class="type">class_getInstanceSize</span></span>([Student <span class="class"><span class="keyword">class</span>]));</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰“å°ä¿¡æ¯ 8å’Œ16</span></span></pre></td></tr></table></figure>

<h4 id="çª¥æ¢å†…å­˜ç»“æ„"><a href="#çª¥æ¢å†…å­˜ç»“æ„" class="headerlink" title="çª¥æ¢å†…å­˜ç»“æ„"></a>çª¥æ¢å†…å­˜ç»“æ„</h4><p>å®æ—¶æŸ¥çœ‹å†…å­˜æ•°æ®</p>
<p><strong>æ–¹å¼ä¸€ï¼šé€šè¿‡æ‰“æ–­ç‚¹ã€‚</strong><br> Debug Workflow -&gt; viewMemory addressä¸­è¾“å…¥stuçš„åœ°å€</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-1c2f8f333637cb41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>image</p>
<p>ä»ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¯»å–æ•°æ®ä»é«˜ä½æ•°æ®å¼€å§‹è¯»ï¼ŒæŸ¥çœ‹å‰16ä½å­—èŠ‚ï¼Œæ¯å››ä¸ªå­—èŠ‚è¯»å‡ºçš„æ•°æ®ä¸º<br> 16è¿›åˆ¶ 0x0000004(4å­—èŠ‚) 0x0000005(4å­—èŠ‚) isaçš„åœ°å€ä¸º 00D1081000001119(8å­—èŠ‚)</p>
<p><strong>æ–¹å¼äºŒï¼šé€šè¿‡lldbæŒ‡ä»¤xcodeè‡ªå¸¦çš„è°ƒè¯•å™¨</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">memory read <span class="number">0x10074c450</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// ç®€å†™  x 0x10074c450</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// å¢åŠ è¯»å–æ¡ä»¶</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// memory read/æ•°é‡æ ¼å¼å­—èŠ‚æ•°  å†…å­˜åœ°å€</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// ç®€å†™ x/æ•°é‡æ ¼å¼å­—èŠ‚æ•°  å†…å­˜åœ°å€</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¼å¼ xæ˜¯16è¿›åˆ¶ï¼Œfæ˜¯æµ®ç‚¹ï¼Œdæ˜¯10è¿›åˆ¶</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// å­—èŠ‚å¤§å°   bï¼šbyte 1å­—èŠ‚ï¼Œhï¼šhalf word 2å­—èŠ‚ï¼Œwï¼šword 4å­—èŠ‚ï¼Œgï¼šgiant word 8å­—èŠ‚</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">ç¤ºä¾‹ï¼šx/<span class="number">4</span>xw    <span class="comment">//   /åé¢è¡¨ç¤ºå¦‚ä½•è¯»å–æ•°æ® wè¡¨ç¤º4ä¸ªå­—èŠ‚4ä¸ªå­—èŠ‚è¯»å–ï¼Œxè¡¨ç¤ºä»¥16è¿›åˆ¶çš„æ–¹å¼è¯»å–æ•°æ®ï¼Œ4åˆ™è¡¨ç¤ºè¯»å–4æ¬¡</span></span></pre></td></tr></table></figure>

<p>åŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡lldbä¿®æ”¹å†…å­˜ä¸­çš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">memory write 0x100400c68 6</span></pre></td></tr><tr><td class="code"><pre><span class="line">å°†_noçš„å€¼æ”¹ä¸ºäº†6</span></pre></td></tr></table></figure>

<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-0f4104937adf7401.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/724/format/webp" alt="img"></p>
<p>image</p>
<blockquote>
<p>é‚£ä¹ˆä¸€ä¸ªNSObjectå¯¹è±¡å ç”¨å¤šå°‘å†…å­˜ï¼Ÿ<br> <strong>NSObjcetå®é™…ä¸Šæ˜¯åªæœ‰ä¸€ä¸ªåä¸ºisaçš„æŒ‡é’ˆçš„ç»“æ„ä½“ï¼Œå› æ­¤å ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°ï¼Œå¦‚æœ64bitå ç”¨8ä¸ªå­—èŠ‚ï¼Œå¦‚æœ32bitå ç”¨4ä¸ªå­—èŠ‚ã€‚</strong></p>
</blockquote>
<h2 id="æ›´å¤æ‚çš„ç»§æ‰¿å…³ç³»"><a href="#æ›´å¤æ‚çš„ç»§æ‰¿å…³ç³»" class="headerlink" title="æ›´å¤æ‚çš„ç»§æ‰¿å…³ç³»"></a>æ›´å¤æ‚çš„ç»§æ‰¿å…³ç³»</h2><blockquote>
<p>é¢è¯•é¢˜ï¼šåœ¨64bitç¯å¢ƒä¸‹ï¼Œ ä¸‹é¢ä»£ç çš„è¾“å‡ºå†…å®¹ï¼Ÿ</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Person */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* Student */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Student</span> : <span class="title">Person</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Student</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%zd  %zd"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              class_getInstanceSize([Person <span class="keyword">class</span>]),</span></pre></td></tr><tr><td class="code"><pre><span class="line">              class_getInstanceSize([Student <span class="keyword">class</span>])</span></pre></td></tr><tr><td class="code"><pre><span class="line">              );</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é“é¢è¯•é¢˜çš„å®è´¨æ˜¯æƒ³é—®ä¸€ä¸ªPersonå¯¹è±¡ï¼Œä¸€ä¸ªStudentå¯¹è±¡åˆ†åˆ«å ç”¨å¤šå°‘å†…å­˜ç©ºé—´ï¼Ÿ</p>
</blockquote>
<p>æˆ‘ä»¬ä¾æ®ä¸Šé¢çš„åˆ†æä¸å‘ç°ï¼Œç±»å¯¹è±¡å®è´¨ä¸Šæ˜¯ä»¥ç»“æ„ä½“çš„å½¢å¼å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œç”»å‡ºçœŸæ­£çš„å†…å­˜å›¾ä¾‹</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-dded6a79a629de09.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1056/format/webp" alt="img"></p>
<p>image</p>
<p><strong>æˆ‘ä»¬å‘ç°åªè¦æ˜¯ç»§æ‰¿è‡ªNSObjectçš„å¯¹è±¡ï¼Œé‚£ä¹ˆåº•å±‚ç»“æ„ä½“å†…ä¸€å®šæœ‰ä¸€ä¸ªisaæŒ‡é’ˆã€‚</strong><br> é‚£ä¹ˆä»–ä»¬æ‰€å çš„å†…å­˜ç©ºé—´æ˜¯å¤šå°‘å‘¢ï¼Ÿå•çº¯çš„å°†æŒ‡é’ˆå’Œæˆå‘˜å˜é‡æ‰€å çš„å†…å­˜ç›¸åŠ å³å¯å—ï¼Ÿä¸Šè¿°ä»£ç å®é™…æ‰“å°çš„å†…å®¹æ˜¯16 16ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œpersonå¯¹è±¡å’Œstudentå¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´éƒ½ä¸º16ä¸ªå­—èŠ‚ã€‚<br> å…¶å®å®é™…ä¸Špersonå¯¹è±¡ç¡®å®åªä½¿ç”¨äº†12ä¸ªå­—èŠ‚ã€‚ä½†æ˜¯å› ä¸ºå†…å­˜å¯¹é½çš„åŸå› ã€‚ä½¿personå¯¹è±¡ä¹Ÿå ç”¨16ä¸ªå­—èŠ‚ã€‚</p>
<blockquote>
<p>ç¼–è¯‘å™¨åœ¨ç»™ç»“æ„ä½“å¼€è¾Ÿç©ºé—´æ—¶ï¼Œé¦–å…ˆæ‰¾åˆ°ç»“æ„ä½“ä¸­æœ€å®½çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç„¶åå¯»æ‰¾å†…å­˜åœ°å€èƒ½æ˜¯è¯¥åŸºæœ¬æ•°æ®ç±»å‹çš„æ•´å€çš„ä½ç½®ï¼Œä½œä¸ºç»“æ„ä½“çš„é¦–åœ°å€ã€‚å°†è¿™ä¸ªæœ€å®½çš„åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ä½œä¸ºå¯¹é½æ¨¡æ•°ã€‚<br> ä¸ºç»“æ„ä½“çš„ä¸€ä¸ªæˆå‘˜å¼€è¾Ÿç©ºé—´ä¹‹å‰ï¼Œç¼–è¯‘å™¨é¦–å…ˆæ£€æŸ¥é¢„å¼€è¾Ÿç©ºé—´çš„é¦–åœ°å€ç›¸å¯¹äºç»“æ„ä½“é¦–åœ°å€çš„åç§»æ˜¯å¦æ˜¯æœ¬æˆå‘˜çš„æ•´æ•°å€ï¼Œè‹¥æ˜¯ï¼Œåˆ™å­˜æ”¾æœ¬æˆå‘˜ï¼Œåä¹‹ï¼Œåˆ™åœ¨æœ¬æˆå‘˜å’Œä¸Šä¸€ä¸ªæˆå‘˜ä¹‹é—´å¡«å……ä¸€å®šçš„å­—èŠ‚ï¼Œä»¥è¾¾åˆ°æ•´æ•°å€çš„è¦æ±‚ï¼Œä¹Ÿå°±æ˜¯å°†é¢„å¼€è¾Ÿç©ºé—´çš„é¦–åœ°å€åç§»å‡ ä¸ªå­—èŠ‚ã€‚</p>
</blockquote>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥æ€»ç»“å†…å­˜å¯¹é½ä¸ºä¸¤ä¸ªåŸåˆ™ï¼š<br> <strong>åŸåˆ™ 1. å‰é¢çš„åœ°å€å¿…é¡»æ˜¯åé¢çš„åœ°å€æ­£æ•°å€,ä¸æ˜¯å°±è¡¥é½ã€‚</strong><br> <strong>åŸåˆ™ 2. æ•´ä¸ªStructçš„åœ°å€å¿…é¡»æ˜¯æœ€å¤§å­—èŠ‚çš„æ•´æ•°å€ã€‚</strong></p>
</blockquote>
<p>é€šè¿‡ä¸Šè¿°å†…å­˜å¯¹é½çš„åŸåˆ™æˆ‘ä»¬æ¥çœ‹ï¼Œpersonå¯¹è±¡çš„ç¬¬ä¸€ä¸ªåœ°å€è¦å­˜æ”¾isaæŒ‡é’ˆéœ€è¦8ä¸ªå­—èŠ‚ï¼Œç¬¬äºŒä¸ªåœ°å€è¦å­˜æ”¾_ageæˆå‘˜å˜é‡éœ€è¦4ä¸ªå­—èŠ‚ï¼Œæ ¹æ®åŸåˆ™ä¸€ï¼Œ8æ˜¯4çš„æ•´æ•°å€ï¼Œç¬¦åˆåŸåˆ™ä¸€ï¼Œä¸éœ€è¦è¡¥é½ã€‚ç„¶åæ£€æŸ¥åŸåˆ™2ï¼Œç›®å‰personå¯¹è±¡å…±å æ®12ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œä¸æ˜¯æœ€å¤§å­—èŠ‚æ•°8ä¸ªå­—èŠ‚çš„æ•´æ•°å€ï¼Œæ‰€ä»¥éœ€è¦è¡¥é½4ä¸ªå­—èŠ‚ï¼Œå› æ­¤personå¯¹è±¡å°±å ç”¨16ä¸ªå­—èŠ‚ç©ºé—´ã€‚</p>
<p>è€Œå¯¹äºstudentå¯¹è±¡ï¼Œæˆ‘ä»¬çŸ¥é“sutdentå¯¹è±¡ä¸­ï¼ŒåŒ…å«personå¯¹è±¡çš„ç»“æ„ä½“å®ç°ï¼Œå’Œä¸€ä¸ªintç±»å‹çš„_noæˆå‘˜å˜é‡ï¼ŒåŒæ ·isaæŒ‡é’ˆ8ä¸ªå­—èŠ‚ï¼Œ_ageæˆå‘˜å˜é‡4ä¸ªå­—èŠ‚ï¼Œ_noæˆå‘˜å˜é‡4ä¸ªå­—èŠ‚ï¼Œåˆšå¥½æ»¡è¶³åŸåˆ™1å’ŒåŸåˆ™2ï¼Œæ‰€ä»¥studentå¯¹è±¡å æ®çš„å†…å­˜ç©ºé—´ä¹Ÿæ˜¯16ä¸ªå­—èŠ‚ã€‚</p>
<h3 id="OCå¯¹è±¡çš„åˆ†ç±»"><a href="#OCå¯¹è±¡çš„åˆ†ç±»" class="headerlink" title="OCå¯¹è±¡çš„åˆ†ç±»"></a>OCå¯¹è±¡çš„åˆ†ç±»</h3><blockquote>
<p>é¢è¯•é¢˜ï¼šOCçš„ç±»ä¿¡æ¯å­˜æ”¾åœ¨å“ªé‡Œã€‚<br> é¢è¯•é¢˜ï¼šå¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘å“ªé‡Œã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;objc/runtime.h&gt;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* Person */</span> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span> &lt;<span class="title">NSCopying</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@public</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">int</span> height;</span></pre></td></tr><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)personMethod;</span></pre></td></tr><tr><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)personClassMethod;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)personMethod &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)personClassMethod &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* Student */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Student</span> : <span class="title">Person</span> &lt;<span class="title">NSCoding</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@public</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">int</span> _no;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">int</span> score;</span></pre></td></tr><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)studentMethod;</span></pre></td></tr><tr><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)studentClassMethod;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Student</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)studentMethod &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)studentClassMethod &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@end</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;      </span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">NSObject</span> *object1 = [[<span class="built_in">NSObject</span> alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">NSObject</span> *object2 = [[<span class="built_in">NSObject</span> alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">        Student *stu = [[Student alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        [Student load];</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">        Person *p1 = [[Person alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        p1-&gt;_age = <span class="number">10</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        [p1 personMethod];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        [Person personClassMethod];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        Person *p2 = [[Person alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line">        p2-&gt;_age = <span class="number">20</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>OCçš„ç±»ä¿¡æ¯å­˜æ”¾åœ¨å“ªé‡Œ</strong><br> OCå¯¹è±¡ä¸»è¦å¯ä»¥åˆ†ä¸ºä¸‰ç§</p>
<ol>
<li>instanceå¯¹è±¡ï¼ˆå®ä¾‹å¯¹è±¡ï¼‰</li>
<li>classå¯¹è±¡ï¼ˆç±»å¯¹è±¡ï¼‰</li>
<li>meta-classå¯¹è±¡ï¼ˆå…ƒç±»å¯¹è±¡ï¼‰</li>
</ol>
<p><strong>instanceå¯¹è±¡å°±æ˜¯é€šè¿‡ç±»allocå‡ºæ¥çš„å¯¹è±¡ï¼Œæ¯æ¬¡è°ƒç”¨allocéƒ½ä¼šäº§ç”Ÿæ–°çš„instanceå¯¹è±¡</strong></p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="built_in">NSObjcet</span> *object1 = [[<span class="built_in">NSObjcet</span> alloc] init];</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">NSObjcet</span> *object2 = [[<span class="built_in">NSObjcet</span> alloc] init];</span></pre></td></tr></table></figure>

<p>object1å’Œobject2éƒ½æ˜¯NSObjectçš„instaceå¯¹è±¡ï¼ˆå®ä¾‹å¯¹è±¡ï¼‰ï¼Œä½†ä»–ä»¬æ˜¯ä¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”åˆ†åˆ«å æ®ç€ä¸¤å—ä¸åŒçš„å†…å­˜ã€‚<br> instanceå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„ä¿¡æ¯åŒ…æ‹¬</p>
<ol>
<li>isaæŒ‡é’ˆ</li>
<li>å…¶ä»–æˆå‘˜å˜é‡</li>
</ol>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-c564b99ce9ba8c10.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1083/format/webp" alt="img"></p>
<p>image</p>
<blockquote>
<p>è¡ç”Ÿé—®é¢˜ï¼šåœ¨ä¸Šå›¾å®ä¾‹å¯¹è±¡ä¸­æ ¹æœ¬æ²¡æœ‰çœ‹åˆ°æ–¹æ³•ï¼Œé‚£ä¹ˆå®ä¾‹å¯¹è±¡çš„æ–¹æ³•çš„ä»£ç æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿé‚£ä¹ˆç±»çš„æ–¹æ³•çš„ä¿¡æ¯ï¼Œåè®®çš„ä¿¡æ¯ï¼Œå±æ€§çš„ä¿¡æ¯éƒ½å­˜æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ</p>
</blockquote>
<p><strong>classå¯¹è±¡</strong><br> æˆ‘ä»¬é€šè¿‡classæ–¹æ³•æˆ–runtimeæ–¹æ³•å¾—åˆ°ä¸€ä¸ªclasså¯¹è±¡ã€‚classå¯¹è±¡ä¹Ÿå°±æ˜¯ç±»å¯¹è±¡</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">Class objectClass1 = [object1 <span class="class"><span class="keyword">class</span>];</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass2 = [object2 <span class="class"><span class="keyword">class</span>];</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass3 = [NSObject <span class="class"><span class="keyword">class</span>];</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// runtime</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass4 = object_getClass(object1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass5 = object_getClass(object2);</span></pre></td></tr><tr><td class="code"><pre><span class="line">NSLog(@<span class="string">"%p %p %p %p %p"</span>, objectClass1, objectClass2, objectClass3, objectClass4, objectClass5);</span></pre></td></tr></table></figure>

<p><strong>æ¯ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªclasså¯¹è±¡ã€‚å¯ä»¥é€šè¿‡æ‰“å°å†…å­˜åœ°å€è¯æ˜</strong></p>
<p>classå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„ä¿¡æ¯ä¸»è¦åŒ…æ‹¬</p>
<ol>
<li>isaæŒ‡é’ˆ</li>
<li>superclassæŒ‡é’ˆ</li>
<li>ç±»çš„å±æ€§ä¿¡æ¯ï¼ˆ@propertyï¼‰ï¼Œç±»çš„æˆå‘˜å˜é‡ä¿¡æ¯ï¼ˆivarï¼‰</li>
<li>ç±»çš„å¯¹è±¡æ–¹æ³•ä¿¡æ¯ï¼ˆinstance methodï¼‰ï¼Œç±»çš„åè®®ä¿¡æ¯ï¼ˆprotocolï¼‰</li>
</ol>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-c3527113c4cc1c08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/316/format/webp" alt="img"></p>
<p>image</p>
<p><strong>æˆå‘˜å˜é‡çš„å€¼æ—¶å­˜å‚¨åœ¨å®ä¾‹å¯¹è±¡ä¸­çš„ï¼Œå› ä¸ºåªæœ‰å½“æˆ‘ä»¬åˆ›å»ºå®ä¾‹å¯¹è±¡çš„æ—¶å€™æ‰ä¸ºæˆå‘˜å˜èµ‹å€¼ã€‚ä½†æ˜¯æˆå‘˜å˜é‡å«ä»€ä¹ˆåå­—ï¼Œæ˜¯ä»€ä¹ˆç±»å‹ï¼Œåªéœ€è¦æœ‰ä¸€ä»½å°±å¯ä»¥äº†ã€‚æ‰€ä»¥å­˜å‚¨åœ¨classå¯¹è±¡ä¸­ã€‚</strong></p>
<p>ç±»æ–¹æ³•æ”¾åœ¨é‚£é‡Œï¼Ÿ<br> <strong>å…ƒç±»å¯¹è±¡ meta-class</strong></p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="comment">//runtimeä¸­ä¼ å…¥ç±»å¯¹è±¡æ­¤æ—¶å¾—åˆ°çš„å°±æ˜¯å…ƒç±»å¯¹è±¡</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectMetaClass = object_getClass([<span class="built_in">NSObject</span> <span class="keyword">class</span>]);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// è€Œè°ƒç”¨ç±»å¯¹è±¡çš„classæ–¹æ³•æ—¶å¾—åˆ°è¿˜æ˜¯ç±»å¯¹è±¡ï¼Œæ— è®ºè°ƒç”¨å¤šå°‘æ¬¡éƒ½æ˜¯ç±»å¯¹è±¡</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class cls = [[<span class="built_in">NSObject</span> <span class="keyword">class</span>] <span class="keyword">class</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass3 = [<span class="built_in">NSObject</span> <span class="keyword">class</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line">class_isMetaClass(objectMetaClass) <span class="comment">// åˆ¤æ–­è¯¥å¯¹è±¡æ˜¯å¦ä¸ºå…ƒç±»å¯¹è±¡</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%p %p %p"</span>, objectMetaClass, objectClass3, cls); <span class="comment">// åé¢ä¸¤ä¸ªåœ°å€ç›¸åŒï¼Œè¯´æ˜å¤šæ¬¡è°ƒç”¨classå¾—åˆ°çš„è¿˜æ˜¯ç±»å¯¹è±¡</span></span></pre></td></tr></table></figure>

<p><strong>æ¯ä¸ªç±»åœ¨å†…å­˜ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªmeta-classå¯¹è±¡ã€‚</strong><br> meta-classå¯¹è±¡å’Œclasså¯¹è±¡çš„å†…å­˜ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ç”¨é€”ä¸ä¸€æ ·ï¼Œåœ¨å†…å­˜ä¸­å­˜å‚¨çš„ä¿¡æ¯ä¸»è¦åŒ…æ‹¬</p>
<ol>
<li>isaæŒ‡é’ˆ</li>
<li>superclassæŒ‡é’ˆ</li>
<li>ç±»çš„ç±»æ–¹æ³•çš„ä¿¡æ¯ï¼ˆclass methodï¼‰</li>
</ol>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-4aca671a18181443.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/328/format/webp" alt="img"></p>
<p>image</p>
<p><strong>meta-classå¯¹è±¡å’Œclasså¯¹è±¡çš„å†…å­˜ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥meta-classä¸­ä¹Ÿæœ‰ç±»çš„å±æ€§ä¿¡æ¯ï¼Œç±»çš„å¯¹è±¡æ–¹æ³•ä¿¡æ¯ç­‰æˆå‘˜å˜é‡ï¼Œä½†æ˜¯å…¶ä¸­çš„å€¼å¯èƒ½æ˜¯ç©ºçš„ã€‚</strong></p>
<p><strong>å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘å“ªé‡Œ</strong></p>
<ol>
<li>å½“å¯¹è±¡è°ƒç”¨å®ä¾‹æ–¹æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸Šé¢è®²åˆ°ï¼Œå®ä¾‹æ–¹æ³•ä¿¡æ¯æ˜¯å­˜å‚¨åœ¨classç±»å¯¹è±¡ä¸­çš„ï¼Œé‚£ä¹ˆè¦æƒ³æ‰¾åˆ°å®ä¾‹æ–¹æ³•ï¼Œå°±å¿…é¡»æ‰¾åˆ°classç±»å¯¹è±¡ï¼Œé‚£ä¹ˆæ­¤æ—¶isaçš„ä½œç”¨å°±æ¥äº†ã€‚</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">stu studentMethod</span>];</span></pre></td></tr></table></figure>

<p><strong>instanceçš„isaæŒ‡å‘classï¼Œå½“è°ƒç”¨å¯¹è±¡æ–¹æ³•æ—¶ï¼Œé€šè¿‡instanceçš„isaæ‰¾åˆ°classï¼Œæœ€åæ‰¾åˆ°å¯¹è±¡æ–¹æ³•çš„å®ç°è¿›è¡Œè°ƒç”¨ã€‚</strong></p>
<ol>
<li>å½“ç±»å¯¹è±¡è°ƒç”¨ç±»æ–¹æ³•çš„æ—¶å€™ï¼ŒåŒä¸Šï¼Œç±»æ–¹æ³•æ˜¯å­˜å‚¨åœ¨meta-classå…ƒç±»å¯¹è±¡ä¸­çš„ã€‚é‚£ä¹ˆè¦æ‰¾åˆ°ç±»æ–¹æ³•ï¼Œå°±éœ€è¦æ‰¾åˆ°meta-classå…ƒç±»å¯¹è±¡ï¼Œè€Œclassç±»å¯¹è±¡çš„isaæŒ‡é’ˆå°±æŒ‡å‘å…ƒç±»å¯¹è±¡</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">Student studentClassMethod</span>];</span></pre></td></tr></table></figure>

<p><strong>classçš„isaæŒ‡å‘meta-class<br> å½“è°ƒç”¨ç±»æ–¹æ³•æ—¶ï¼Œé€šè¿‡classçš„isaæ‰¾åˆ°meta-classï¼Œæœ€åæ‰¾åˆ°ç±»æ–¹æ³•çš„å®ç°è¿›è¡Œè°ƒç”¨</strong></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-e71cf3850379fe21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1145/format/webp" alt="img"></p>
<p>image</p>
<ol>
<li>å½“å¯¹è±¡è°ƒç”¨å…¶çˆ¶ç±»å¯¹è±¡æ–¹æ³•çš„æ—¶å€™ï¼Œåˆæ˜¯æ€ä¹ˆæ‰¾åˆ°çˆ¶ç±»å¯¹è±¡æ–¹æ³•çš„å‘¢ï¼Ÿï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨åˆ°classç±»å¯¹è±¡superclassæŒ‡é’ˆã€‚</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">stu personMethod</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line">[<span class="meta">stu init</span>];</span></pre></td></tr></table></figure>

<p><strong>å½“Studentçš„instanceå¯¹è±¡è¦è°ƒç”¨Personçš„å¯¹è±¡æ–¹æ³•æ—¶ï¼Œä¼šå…ˆé€šè¿‡isaæ‰¾åˆ°Studentçš„classï¼Œç„¶åé€šè¿‡superclassæ‰¾åˆ°Personçš„classï¼Œæœ€åæ‰¾åˆ°å¯¹è±¡æ–¹æ³•çš„å®ç°è¿›è¡Œè°ƒç”¨ï¼ŒåŒæ ·å¦‚æœPersonå‘ç°è‡ªå·±æ²¡æœ‰å“åº”çš„å¯¹è±¡æ–¹æ³•ï¼Œåˆä¼šé€šè¿‡Personçš„superclassæŒ‡é’ˆæ‰¾åˆ°NSObjectçš„classå¯¹è±¡ï¼Œå»å¯»æ‰¾å“åº”çš„æ–¹æ³•</strong></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-c424291af118ebad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>image</p>
<ol>
<li>å½“ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»çš„ç±»æ–¹æ³•æ—¶ï¼Œå°±éœ€è¦å…ˆé€šè¿‡isaæŒ‡é’ˆæ‰¾åˆ°meta-classï¼Œç„¶åé€šè¿‡superclasså»å¯»æ‰¾å“åº”çš„æ–¹æ³•</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">Student personClassMethod</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line">[<span class="meta">Student load</span>];</span></pre></td></tr></table></figure>

<p><strong>å½“Studentçš„classè¦è°ƒç”¨Personçš„ç±»æ–¹æ³•æ—¶ï¼Œä¼šå…ˆé€šè¿‡isaæ‰¾åˆ°Studentçš„meta-classï¼Œç„¶åé€šè¿‡superclassæ‰¾åˆ°Personçš„meta-classï¼Œæœ€åæ‰¾åˆ°ç±»æ–¹æ³•çš„å®ç°è¿›è¡Œè°ƒç”¨</strong></p>
<p>æœ€ååˆæ˜¯è¿™å¼ é™å®šçš„isaæŒ‡å‘å›¾ï¼Œç»è¿‡ä¸Šé¢çš„åˆ†ææˆ‘ä»¬åœ¨æ¥çœ‹è¿™å¼ å›¾ï¼Œå°±æ˜¾å¾—æ¸…æ™°æ˜äº†å¾ˆå¤šã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-49ba7d6446b3ded2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/449/format/webp" alt="img"></p>
<p>image</p>
<blockquote>
<p><strong>å¯¹isaã€superclassæ€»ç»“</strong></p>
<ol>
<li>instanceçš„isaæŒ‡å‘class</li>
<li>classçš„isaæŒ‡å‘meta-class</li>
<li>meta-classçš„isaæŒ‡å‘åŸºç±»çš„meta-classï¼ŒåŸºç±»çš„isaæŒ‡å‘è‡ªå·±</li>
<li>classçš„superclassæŒ‡å‘çˆ¶ç±»çš„classï¼Œå¦‚æœæ²¡æœ‰çˆ¶ç±»ï¼ŒsuperclassæŒ‡é’ˆä¸ºnil</li>
<li>meta-classçš„superclassæŒ‡å‘çˆ¶ç±»çš„meta-classï¼ŒåŸºç±»çš„meta-classçš„superclassæŒ‡å‘åŸºç±»çš„class</li>
<li>instanceè°ƒç”¨å¯¹è±¡æ–¹æ³•çš„è½¨è¿¹ï¼Œisaæ‰¾åˆ°classï¼Œæ–¹æ³•ä¸å­˜åœ¨ï¼Œå°±é€šè¿‡superclassæ‰¾çˆ¶ç±»</li>
<li>classè°ƒç”¨ç±»æ–¹æ³•çš„è½¨è¿¹ï¼Œisaæ‰¾meta-classï¼Œæ–¹æ³•ä¸å­˜åœ¨ï¼Œå°±é€šè¿‡superclassæ‰¾çˆ¶ç±»</li>
</ol>
</blockquote>
<h3 id="å¦‚ä½•è¯æ˜isaæŒ‡é’ˆçš„æŒ‡å‘çœŸçš„å¦‚ä¸Šé¢æ‰€è¯´ï¼Ÿ"><a href="#å¦‚ä½•è¯æ˜isaæŒ‡é’ˆçš„æŒ‡å‘çœŸçš„å¦‚ä¸Šé¢æ‰€è¯´ï¼Ÿ" class="headerlink" title="å¦‚ä½•è¯æ˜isaæŒ‡é’ˆçš„æŒ‡å‘çœŸçš„å¦‚ä¸Šé¢æ‰€è¯´ï¼Ÿ"></a>å¦‚ä½•è¯æ˜isaæŒ‡é’ˆçš„æŒ‡å‘çœŸçš„å¦‚ä¸Šé¢æ‰€è¯´ï¼Ÿ</h3><p>æˆ‘ä»¬é€šè¿‡å¦‚ä¸‹ä»£ç è¯æ˜ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">NSObject *<span class="keyword">object</span> = [[NSObject alloc] <span class="keyword">init</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass = [NSObject <span class="class"><span class="keyword">class</span>];</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectMetaClass = object_getClass([NSObject <span class="class"><span class="keyword">class</span>]);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">NSLog(@<span class="string">"%p %p %p"</span>, <span class="keyword">object</span>, objectClass, objectMetaClass);</span></pre></td></tr></table></figure>

<p>æ‰“æ–­ç‚¹å¹¶é€šè¿‡æ§åˆ¶å°æ‰“å°ç›¸åº”å¯¹è±¡çš„isaæŒ‡é’ˆ</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-00e99ea5045212df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/407/format/webp" alt="img"></p>
<p>image</p>
<p>æˆ‘ä»¬å‘ç°object-&gt;isaä¸objectClassçš„åœ°å€ä¸åŒï¼Œè¿™æ˜¯å› ä¸ºä»64bitå¼€å§‹ï¼Œisaéœ€è¦è¿›è¡Œä¸€æ¬¡ä½è¿ç®—ï¼Œæ‰èƒ½è®¡ç®—å‡ºçœŸå®åœ°å€ã€‚è€Œä½è¿ç®—çš„å€¼æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹è½½<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fopensource.apple.com%2Ftarballs%2Fobjc4%2F" target="_blank" rel="noopener">objcæºä»£ç </a>æ‰¾åˆ°ã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-276d3011130264db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/453/format/webp" alt="img"></p>
<p>image</p>
<p>æˆ‘ä»¬é€šè¿‡ä½è¿ç®—è¿›è¡ŒéªŒè¯ã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-f2268e81904fb832.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/470/format/webp" alt="img"></p>
<p>image</p>
<p>æˆ‘ä»¬å‘ç°ï¼Œobject-isaæŒ‡é’ˆåœ°å€0x001dffff96537141ç»è¿‡åŒ0x00007ffffffffff8ä½è¿ç®—ï¼Œå¾—å‡ºobjectClassçš„åœ°å€0x00007fff96537140</p>
<p>æ¥ç€æˆ‘ä»¬æ¥éªŒè¯classå¯¹è±¡çš„isaæŒ‡é’ˆæ˜¯å¦åŒæ ·éœ€è¦ä½è¿ç®—è®¡ç®—å‡ºmeta-classå¯¹è±¡çš„åœ°å€ã€‚<br> å½“æˆ‘ä»¬ä»¥åŒæ ·çš„æ–¹å¼æ‰“å°objectClass-&gt;isaæŒ‡é’ˆæ—¶ï¼Œå‘ç°æ— æ³•æ‰“å°</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-38ec0ad027ade31e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1046/format/webp" alt="img"></p>
<p>image</p>
<p>åŒæ—¶ä¹Ÿå‘ç°å·¦è¾¹objectClasså¯¹è±¡ä¸­å¹¶æ²¡æœ‰isaæŒ‡é’ˆã€‚æˆ‘ä»¬æ¥åˆ°Classå†…éƒ¨çœ‹ä¸€ä¸‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> *<span class="title">Class</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !__OBJC2__</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class _Nullable super_class                              OBJC2_UNAVAILABLE;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> * _Nonnull name                               OBJC2_UNAVAILABLE;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">long</span> version                                             OBJC2_UNAVAILABLE;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">long</span> info                                                OBJC2_UNAVAILABLE;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">long</span> instance_size                                       OBJC2_UNAVAILABLE;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_ivar_list</span> * _<span class="title">Nullable</span> <span class="title">ivars</span>                  <span class="title">OBJC2_UNAVAILABLE</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_method_list</span> * _<span class="title">Nullable</span> * _<span class="title">Nullable</span> <span class="title">methodLists</span>                    <span class="title">OBJC2_UNAVAILABLE</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_cache</span> * _<span class="title">Nonnull</span> <span class="title">cache</span>                       <span class="title">OBJC2_UNAVAILABLE</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_protocol_list</span> * _<span class="title">Nullable</span> <span class="title">protocols</span>          <span class="title">OBJC2_UNAVAILABLE</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125; OBJC2_UNAVAILABLE;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* Use `Class` instead of `struct objc_class *` */</span></span></pre></td></tr></table></figure>

<p>ç›¸ä¿¡äº†è§£è¿‡isaæŒ‡é’ˆçš„åŒå­¦å¯¹objc_classç»“æ„ä½“å†…çš„å†…å®¹å¾ˆç†Ÿæ‚‰äº†ï¼Œä»Šå¤©è¿™é‡Œä¸æ·±å…¥ç ”ç©¶ï¼Œæˆ‘ä»¬åªçœ‹ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªisaæŒ‡é’ˆï¼Œä¸ºäº†æ‹¿åˆ°isaæŒ‡é’ˆçš„åœ°å€ï¼Œæˆ‘ä»¬è‡ªå·±åˆ›å»ºä¸€ä¸ªåŒæ ·çš„ç»“æ„ä½“å¹¶é€šè¿‡å¼ºåˆ¶è½¬åŒ–æ‹¿åˆ°isaæŒ‡é’ˆã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">xx_cc_objc_class</span></span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    Class isa;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">Class objectClass = [NSObject class];</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">xx_cc_objc_class</span></span> *objectClass2 = (__bridge <span class="class"><span class="keyword">struct</span> <span class="title">xx_cc_objc_class</span></span> *)(objectClass);</span></pre></td></tr></table></figure>

<p>æ­¤æ—¶æˆ‘ä»¬é‡æ–°éªŒè¯ä¸€ä¸‹</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/1434508-878ba6c819b229a7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/499/format/webp" alt="img"></p>
<p>image</p>
<p>ç¡®å®ï¼ŒobjectClass2çš„isaæŒ‡é’ˆç»è¿‡ä½è¿ç®—ä¹‹åçš„åœ°å€æ˜¯meta-classçš„åœ°å€ã€‚</p>
<h3 id="æœ¬æ–‡é¢è¯•é¢˜æ€»ç»“ï¼š"><a href="#æœ¬æ–‡é¢è¯•é¢˜æ€»ç»“ï¼š" class="headerlink" title="æœ¬æ–‡é¢è¯•é¢˜æ€»ç»“ï¼š"></a>æœ¬æ–‡é¢è¯•é¢˜æ€»ç»“ï¼š</h3><ol>
<li>ä¸€ä¸ªNSObjectå¯¹è±¡å ç”¨å¤šå°‘å†…å­˜ï¼Ÿ<br> ç­”ï¼šä¸€ä¸ªæŒ‡é’ˆå˜é‡æ‰€å ç”¨çš„å¤§å°ï¼ˆ64bitå 8ä¸ªå­—èŠ‚ï¼Œ32bitå 4ä¸ªå­—èŠ‚ï¼‰</li>
<li>å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘å“ªé‡Œï¼Ÿ<br> ç­”ï¼šinstanceå¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘classå¯¹è±¡ï¼Œclasså¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘meta-classå¯¹è±¡ï¼Œmeta-classå¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘åŸºç±»çš„meta-classå¯¹è±¡ï¼ŒåŸºç±»è‡ªå·±çš„isaæŒ‡é’ˆä¹ŸæŒ‡å‘è‡ªå·±ã€‚</li>
<li>OCçš„ç±»ä¿¡æ¯å­˜æ”¾åœ¨å“ªé‡Œï¼Ÿ<br> ç­”ï¼šæˆå‘˜å˜é‡çš„å…·ä½“å€¼å­˜æ”¾åœ¨instanceå¯¹è±¡ã€‚å¯¹è±¡æ–¹æ³•ï¼Œåè®®ï¼Œå±æ€§ï¼Œæˆå‘˜å˜é‡ä¿¡æ¯å­˜æ”¾åœ¨classå¯¹è±¡ã€‚ç±»æ–¹æ³•ä¿¡æ¯å­˜æ”¾åœ¨meta-classå¯¹è±¡ã€‚</li>
</ol>
<h3 id="åº•å±‚åŸç†ç›¸å…³æ–‡ç« ï¼š"><a href="#åº•å±‚åŸç†ç›¸å…³æ–‡ç« ï¼š" class="headerlink" title="åº•å±‚åŸç†ç›¸å…³æ–‡ç« ï¼š"></a>åº•å±‚åŸç†ç›¸å…³æ–‡ç« ï¼š</h3><p><a href="https://www.jianshu.com/notebooks/24110540" target="_blank" rel="noopener">iOSåº•å±‚åŸç†æ€»ç»“ - æ–‡é›†</a></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>OC</tag>
      </tags>
  </entry>
</search>
